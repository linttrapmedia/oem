{
  "version": 3,
  "sources": ["../src/html/HTML.ts", "../src/html/SVG.ts", "../src/html/traits/Attribute.ts", "../src/html/traits/ClassName.ts", "../src/html/traits/Event.ts", "../src/html/traits/InnerHTML.ts", "../src/html/traits/Style.ts", "../src/html/traits/Text.ts", "../src/state/State.ts"],
  "sourcesContent": ["import { HtmlReturnType } from '../types';\n\nconst selectorMap = new Map<string, [any[], any]>();\n\nconst matchObserver = new MutationObserver((mutations) => {\n  mutations.forEach((mutation) => {\n    if (mutation.addedNodes.length > 0 && mutation.type === 'childList') {\n      for (const node of mutation.addedNodes) {\n        if (node instanceof Element) {\n          for (const [selector, [props, config]] of selectorMap.entries()) {\n            const els = node.querySelectorAll(selector);\n            for (const el of els) HtmlTag(el as HTMLElement, props, config);\n          }\n        }\n      }\n    }\n  });\n});\nmatchObserver.observe(document, { attributes: true, childList: true, subtree: true });\n\nfunction AdoptElBySelector(selector: string, watch: boolean = true, config: any) {\n  return (...props: any[]) => {\n    // on mutation\n    if (watch) selectorMap.set(selector, [props, config]);\n    // onload\n    const els = document.querySelectorAll(selector);\n    for (const el of els) HtmlTag(el as HTMLElement, props, config);\n  };\n}\n\nfunction AdoptElByInstance(el: HTMLElement, config: any) {\n  return (...props: any[]) => HtmlTag(el, props, config);\n}\n\nfunction CreateEl(tag: string, config: any) {\n  return (...props: any[]) => {\n    const ns = 'http://www.w3.org/1999/xhtml';\n    const el = document.createElementNS(ns, tag as string);\n    return HtmlTag(el, props, config);\n  };\n}\n\nfunction HtmlTag(el: HTMLElement, traits: any[] = [], config: any = {}) {\n  traits.forEach(([trait, ...args]) => config[trait](el, ...args));\n  function fn(...children: any[]) {\n    children.forEach((child) => el.append(child));\n    return el;\n  }\n  return fn;\n}\n\nexport function HTML<P extends Record<string, any>>(config?: P) {\n  return new Proxy(\n    {},\n    {\n      get: (_, prop) => {\n        if (prop === 'el') return (el: HTMLElement) => AdoptElByInstance(el, config);\n        if (prop === '$el') return (selector: string, watch: boolean) => AdoptElBySelector(selector, watch, config);\n        return CreateEl(prop as string, config);\n      },\n    },\n  ) as HtmlReturnType<P>;\n}\n", "import { SvgReturnType } from '../types';\n\nfunction SvgTag(el: SVGElement, traits: any[] = [], config: any = {}) {\n  traits.forEach(([trait, ...args]) => config[trait](el, ...args));\n  function fn(...children: any[]) {\n    children.forEach((child) => el.append(child));\n    return el;\n  }\n  return fn;\n}\n\nexport function SVG<P extends Record<string, any>>(config?: P) {\n  return new Proxy(\n    {},\n    {\n      get: (_, prop) => {\n        if (prop === 'el')\n          return (el: SVGElement) =>\n            (...props: any[]) =>\n              SvgTag(el, props, config);\n        return (...props: any[]) => {\n          const ns = 'http://www.w3.org/2000/svg';\n          const el = document.createElementNS(ns, prop as string);\n          return SvgTag(el, props, config);\n        };\n      },\n    },\n  ) as SvgReturnType<P>;\n}\n", "import { StateType } from '../../types';\n\ntype UseAttributeProps = {\n  event?: keyof GlobalEventHandlersEventMap | null;\n  eventElement?: HTMLElement | Window;\n  hideOnFalse?: boolean;\n  invokeImmediately?: boolean;\n  mediaMaxWidth?: number;\n  mediaMinWidth?: number;\n  mediaType?: 'screen' | 'print';\n  state?: StateType<any> | null;\n};\n\nexport const useAttribute = ({\n  event = null,\n  eventElement = window,\n  hideOnFalse = true,\n  invokeImmediately = true,\n  mediaMinWidth = 0,\n  mediaMaxWidth = Infinity,\n  state = null,\n}: UseAttributeProps = {}) => {\n  return (\n    el: HTMLElement,\n    prop: string,\n    val: (() => string | number | boolean) | (string | number | boolean),\n    condition?: boolean | (() => boolean),\n  ) => {\n    // application\n    const apply = () => {\n      const isInBreakpoint = window.innerWidth >= mediaMinWidth && window.innerWidth <= mediaMaxWidth;\n      if (!isInBreakpoint) return;\n      const _val = String(typeof val === 'function' ? val() : val);\n      const _isBool = _val === 'true' || _val === 'false';\n      const _condition = typeof condition === 'function' ? condition() : condition ?? true;\n      if (_isBool && hideOnFalse && _val === 'false') return el.removeAttribute(prop);\n      if (_isBool && _condition === false) return el.removeAttribute(prop);\n      if (_condition === false) return;\n      el.setAttribute(prop, _val);\n    };\n\n    // handle state changes\n    if (state) state.sub(apply);\n\n    // handle event changes\n    if (event) (el ?? eventElement).addEventListener(event, apply);\n\n    // handle breakpoint changes\n    window.addEventListener('resize', apply);\n\n    // apply immediately\n    if (invokeImmediately) apply();\n  };\n};\n", "import { StateType } from '../../types';\n\ntype UseClassNameProps = {\n  event?: keyof GlobalEventHandlersEventMap | null;\n  eventElement?: HTMLElement | Window;\n  invokeImmediately?: boolean;\n  mediaMaxWidth?: number;\n  mediaMinWidth?: number;\n  mediaType?: 'screen' | 'print';\n  state?: StateType<any> | null;\n};\n\nexport const useClassName = ({\n  event = null,\n  eventElement = window,\n  invokeImmediately = true,\n  mediaMinWidth = 0,\n  mediaMaxWidth = Infinity,\n  state = null,\n}: UseClassNameProps = {}) => {\n  return (el: HTMLElement, className: string | (() => string), condition?: boolean | (() => boolean)) => {\n    // application\n    const apply = () => {\n      const isInBreakpoint = window.innerWidth >= mediaMinWidth && window.innerWidth <= mediaMaxWidth;\n      if (!isInBreakpoint) return;\n      const _className = String(typeof className === 'function' ? className() : className);\n      (typeof condition === 'function' ? condition() : condition ?? true) ? el.setAttribute('class', _className) : null;\n    };\n\n    // handle state changes\n    if (state) state.sub(apply);\n\n    // handle event changes\n    if (event) (el ?? eventElement).addEventListener(event, apply);\n\n    // handle breakpoint changes\n    window.addEventListener('resize', apply);\n\n    // apply immediately\n    if (invokeImmediately) apply();\n  };\n};\n", "export const useEvent =\n  <E extends keyof GlobalEventHandlersEventMap>(evt: E) =>\n  (el: HTMLElement, cb: (evt: GlobalEventHandlersEventMap[E]) => any, condition?: (() => boolean) | boolean) => {\n    (typeof condition === 'function' ? condition() : condition ?? true) ? el.addEventListener(evt, cb) : null;\n  };\n", "import { StateType } from '../../types';\n\ntype UseInnerHTMLProps = {\n  state?: StateType<any> | null;\n};\n\nexport const useInnerHTML =\n  ({ state }: UseInnerHTMLProps = {}) =>\n  (\n    el: HTMLElement,\n    children: () => string | number | HTMLElement | (string | number | HTMLElement)[],\n    condition?: ((...args: any) => boolean) | boolean,\n  ) => {\n    const apply = () => {\n      el.innerHTML = '';\n      const _children = children();\n      if (typeof condition === 'function' ? condition() : condition ?? true) {\n        el.innerHTML = '';\n        if (Array.isArray(_children)) {\n          _children.forEach((c) => {\n            if (c instanceof HTMLElement) el.appendChild(c);\n            else el.appendChild(document.createTextNode(String(c)));\n          });\n        } else if (_children instanceof HTMLElement) {\n          el.appendChild(_children);\n        } else {\n          el.innerHTML = String(_children);\n        }\n      }\n    };\n    if (state) state.sub(apply);\n    apply();\n  };\n", "import { StateType } from '../../types';\n\ntype UseStyleProps = {\n  event?: keyof GlobalEventHandlersEventMap | null;\n  eventElement?: HTMLElement | Window;\n  invokeImmediately?: boolean;\n  mediaMaxWidth?: number;\n  mediaMinWidth?: number;\n  mediaType?: 'screen' | 'print';\n  state?: StateType<any> | null;\n};\n\nexport const useStyle = ({\n  event = null,\n  eventElement = window,\n  invokeImmediately = true,\n  mediaType = 'screen',\n  mediaMinWidth = 0,\n  mediaMaxWidth = Infinity,\n  state = null,\n}: UseStyleProps = {}) => {\n  const fingerPrint = (Math.random() * 100000000).toFixed(0);\n  const printId = 'print-style-' + fingerPrint;\n  let style: HTMLStyleElement = document.getElementById(printId) as HTMLStyleElement;\n  if (!style) {\n    style = document.createElement('style');\n    style.id = printId;\n    style.setAttribute('type', 'text/css');\n    style.setAttribute('media', 'print');\n    if (mediaType === 'print') document.getElementsByTagName('head')[0].appendChild(style);\n  }\n  const sheet = style.sheet as CSSStyleSheet;\n  return (\n    el: HTMLElement,\n    prop: keyof CSSStyleDeclaration,\n    val: ((...args: any) => string | number) | (string | number),\n    condition?: boolean | ((...args: any) => boolean),\n  ) => {\n    if (mediaType === 'print') el.dataset.printId = el.dataset.printId ?? (Math.random() * 100000000).toFixed(0);\n    // application\n    const apply = () => {\n      if (mediaType === 'print') {\n        const selector = <string>prop + '-' + el.dataset.printId;\n        const _val = String(typeof val === 'function' ? val() : val);\n        const propFmt = (<string>prop).replace(/([A-Z])/g, '-$1').toLowerCase();\n        sheet.insertRule(`.${selector} { ${propFmt}:${_val} !important; }`, 0);\n        el.classList.add(selector);\n      } else {\n        const isInBreakpoint = window.innerWidth >= mediaMinWidth && window.innerWidth <= mediaMaxWidth;\n        if (!isInBreakpoint) return;\n        const _val = String(typeof val === 'function' ? val() : val);\n        (typeof condition === 'function' ? condition() : condition ?? true)\n          ? (el.style[prop as any] = _val as any)\n          : null;\n      }\n    };\n\n    // handle state changes\n    if (state) state.sub(apply);\n\n    // handle resize changes\n    window.addEventListener('resize', apply);\n\n    // handle event changes\n    if (event) (el ?? eventElement).addEventListener(event, apply);\n\n    // apply immediately\n    if (invokeImmediately && !event) apply();\n  };\n};\n", "import { StateType } from '../../types';\n\ntype UseTextProps = {\n  state?: StateType<any> | null;\n};\n\nexport const useText =\n  ({ state }: UseTextProps = {}) =>\n  (\n    el: HTMLElement,\n    text: ((...args: any) => string | number) | (string | number),\n    condition?: ((...args: any) => boolean) | boolean,\n  ) => {\n    const apply = () => {\n      const _text = String(typeof text === 'function' ? text() : text);\n      (typeof condition === 'function' ? condition() : condition ?? true) ? (el.textContent = _text) : null;\n    };\n    if (state) state.sub(apply);\n    apply();\n  };\n", "import { StateType } from '../types';\n\nexport function State<T>(param: T): StateType<T> {\n  const originalParam: T = param;\n  let _param: T = param;\n  const _subscribers: ((param: T) => any)[] = [];\n  const _get = (): T => _param;\n  const _reduce = (cb: (param: T) => T) => () => _set(cb(_param));\n  const _reset = () => _set(originalParam);\n  const _set = (param: T) => ((_param = param), _subscribers.forEach((i) => i(_param)));\n  const _sub = (cb: (param: T) => any) => _subscribers.push(cb);\n  const _unsub = (cb: (param: T) => any) => _subscribers.splice(_subscribers.indexOf(cb), 1);\n  return { get: _get, reset: _reset, reduce: _reduce, set: _set, sub: _sub, unsub: _unsub };\n}\n"],
  "mappings": "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",
  "names": ["param"]
}
