"use strict";(()=>{var Y=Object.defineProperty;var G=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var W=(t,n,o)=>n in t?Y(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,P=(t,n)=>{for(var o in n||(n={}))K.call(n,o)&&W(t,o,n[o]);if(G)for(var o of G(n))Q.call(n,o)&&W(t,o,n[o]);return t};function X(t,n){var r,l;if(!n)return t;let o=n.storage.getItem(n.key),i=JSON.parse(o),s=i!=null;if(((r=n.overwrite)!=null?r:!0)&&s)return i;if(!((l=n.overwrite)==null||l)&&s){if(Array.isArray(t)&&Array.isArray(i))return[...t,...i];if(typeof t=="object"&&typeof i=="object")return P(P({},t),i)}return t}function A(t,n){let o=X(t,n),i=[],s=()=>o,r=a=>{o=a,i.forEach(u=>u(a)),n&&n.storage.setItem(n.key,JSON.stringify(a))};return{val:o,reduce:a=>r(a(o)),set:r,sub:a=>{i.includes(a)||i.push(a)},test:(a,u=!0)=>{let M=JSON.stringify(o);if(a instanceof RegExp){let S=a.test(M);return u?S:!S}else{let S=JSON.stringify(a),H=M===S;return u?H:!H}},unsub:a=>i.splice(i.indexOf(a),1),$val:s,$reduce:a=>()=>r(a(s())),$set:a=>()=>r(a),$test:(a,u=!0)=>()=>{let M=JSON.stringify(o);if(a instanceof RegExp){let S=a.test(M);return u?S:!S}else{let S=JSON.stringify(a),H=M===S;return u?H:!H}}}}var O=new Map,Z=new MutationObserver(t=>{t.forEach(n=>{if(n.addedNodes.length>0&&n.type==="childList"){for(let o of Array.from(n.addedNodes))if(o instanceof Element)for(let[i,[s,r]]of O.entries()){let l=Array.from(o.querySelectorAll(i));for(let c of l)I(c,s,r)}}})});Z.observe(document,{attributes:!0,childList:!0,subtree:!0});function tt(t,n=!0,o){return(...i)=>{n&&O.set(t,[i,o]);let s=Array.from(document.querySelectorAll(t));for(let r of s)I(r,i,o)}}function et(t,n){return(...o)=>I(t,o,n)}function nt(t,n){return(...o)=>{let i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,t);return I(s,o,n)}}function I(t,n=[],o={}){n.forEach(([s,...r])=>o[s](t,...r));function i(...s){return s.forEach(r=>{r&&t.append(r)}),t}return i}function $(t){return new Proxy({},{get:(n,o)=>o==="el"?i=>et(i,t):o==="$el"?(i,s)=>tt(i,s,t):nt(o,t)})}function N(t,n=[],o={}){n.forEach(([s,...r])=>o[s](t,...r));function i(...s){return s.forEach(r=>t.append(r)),t}return i}function C(t){return new Proxy({},{get:(n,o)=>o==="el"?i=>(...s)=>N(i,s,t):(...i)=>{let s="http://www.w3.org/2000/svg",r=document.createElementNS(s,o);return N(r,i,t)}})}function _(t){let{event:n=null,eventElement:o=window,invokeImmediately:i=!0,mediaMinWidth:s=0,mediaMaxWidth:r=1/0,state:l=void 0}=t!=null?t:{};return(...c)=>{let[p,m,b,g]=c,h=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=r))return;let u=l&&typeof b=="function"?b(l.$val()):b;(typeof g=="function"?g(l?l.$val():void 0):g!=null?g:!0)&&(u===void 0?p.removeAttribute(m):p.setAttribute(m,String(u)))};l&&l.sub(h),n&&(p!=null?p:o).addEventListener(n,h),window.addEventListener("resize",h),i&&h()}}function z(t){let{state:n,event:o}=t!=null?t:{};return(...i)=>{let[s,r,l]=i,c=()=>{let p=b=>r(b);(typeof l=="function"?l(n?n.$val():void 0):l!=null?l:!0)?s.addEventListener(o,p):s.removeEventListener(o,p)};n&&n.sub(c),c()}}function R(t){let{state:n}=t!=null?t:{};return(...o)=>{let[i,s,r]=o,l=()=>{let c=n?s(n.$val()):s();(typeof r=="function"?r(n?n.val:void 0):r!=null?r:!0)&&(i.innerHTML="",c!==void 0&&(Array.isArray(c)?c.filter(m=>m).forEach(m=>{m instanceof HTMLElement||m instanceof SVGElement?i.appendChild(m):i.appendChild(document.createTextNode(String(m)))}):c instanceof HTMLElement||c instanceof SVGElement?i.appendChild(c):i.innerHTML=String(c)))};n&&n.sub(l),l()}}function v(t){let{event:n=null,eventElement:o=window,invokeImmediately:i=!0,mediaMinWidth:s=0,mediaMaxWidth:r=1/0,state:l=void 0}=t!=null?t:{};return(...c)=>{let[p,m,b,g]=c,h=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=r))return;let u=typeof b=="function"?b(l?l.$val():void 0):b;(typeof g=="function"?g(l?l.$val():void 0):g!=null?g:!0)&&(u===void 0?p.style.removeProperty(m):m.startsWith("--")?p.style.setProperty(m,u):p.style[m]=u)};l&&l.sub(h),window.addEventListener("resize",h),n&&(p!=null?p:o).addEventListener(n,h),i&&!n&&h()}}var ot=()=>t=>{t.style.whiteSpace="pre",t.style.fontFamily="monospace",t.style.color="white",t.style.backgroundColor="black",t.style.padding="30px",t.style.borderRadius="5px",t.style.overflow="auto",t.style.maxWidth="100%",t.style.width="100%",t.style.boxSizing="border-box";let n=new MutationObserver(o=>{o.forEach(i=>{if(i.type==="childList"&&i.addedNodes.length>0){n.disconnect();let s=Prism.highlight(t.innerText,Prism.languages.typescript);t.innerHTML=s}})});return n.observe(t,{childList:!0}),t},y=A("introduction",{key:"menuState",storage:localStorage}),L=A(!1),e=$({attr:_(),click:z({event:"click"}),prism:ot(),style:v(),"html:menu":R({state:y}),"style:menu":v({state:y}),"style:menu_toggle":v({state:L}),"style:tablet":v({mediaMinWidth:800}),"style:mouseover":v({event:"mouseover"}),"style:mouseout":v({event:"mouseout"})}),kt=C({attr:_(),style:v(),click:z({event:"click"}),"style:mouseover":v({event:"mouseover"}),"style:mouseout":v({event:"mouseout"})});var f=(t,n,...o)=>e.div(["style","flexDirection",t],["style","alignItems","center"],["style","boxSizing","border-box"],["style","display","flex"],["style","fontFamily","Space Grotesk"],["style","gap",`${n}px`])(...o);var F=()=>e.div(["style","alignItems","center"],["style","boxSizing","border-box"],["style","borderRadius","5px"],["style","display","grid"],["style","display","flex"],["style","flexWrap","wrap"],["style","fontFamily","Space Grotesk"],["style","gap","5px"],["style","justifyContent","center"],["style","width","100%"])(...[["\u{1F4AB}","Reactive DOM"],["\u{1F485}","Responsive Styles"],["\u{1F4FC}","State Management"],["\u{1F54A}\uFE0F","No Dependencies"],["\u{1FAB6}","Flyweight Size"],["\u{1F9F1}","Isomorphic Syntax"],["\u{1F9E9}","Typescript"],["\u{1F916}","AI-Friendly"],["\u{1F512}","Secure"],["\u{1F9EA}","100% Test Coverage"],["\u{1F4A9}","No Virtual DOM"]].map(([t,n])=>e.div(["style","alignItems","center"],["style","backgroundColor","black"],["style","boxSizing","border-box"],["style","borderRadius","20px"],["style","display","flex"],["style","fontSize","13px"],["style","gap","10px"],["style","justifyContent","center"],["style","border","none"],["style","border","1px solid rgba(255,255,255,0.3)"],["style","padding","10px 15px"],["style","color","white"])(e.span(["style","fontSize","11px"])(t),e.span(["style","fontWeight","bold"])(n))));var w=({next:t,prev:n})=>e.div(["style","display","flex"],["style","flexDirection","row"],["style","justifyContent","space-evenly"],["style","alignItems","center"],["style","width","100%"],["style","boxSizing","border-box"],["style","padding","20px"],["style","fontFamily","monospace"],["style","fontSize","14px"],["style","backgroundColor","black"],["style","color","white"],["style","borderRadius","5px"])(n&&e.div(["style","cursor","pointer"],["click",()=>y.set(n.menuState)])(`\u2190 ${n.title}`),t&&e.div(["style","cursor","pointer"],["click",()=>y.set(t.menuState)])(`${t.title} \u2192`));var E=(...t)=>e.div(["style","flexDirection","column"],["style","alignItems","center"],["style","boxSizing","border-box"],["style","display","flex"],["style","fontFamily","Space Grotesk"],["style","justifyContent","center"],["style","width","100%"],["style","gap","30px"],["style","maxWidth","1000px"])(...t);var d=({content:t,title:n,subtitle:o})=>e.div(["style","flexDirection","column"],["style","alignItems","center"],["style","boxSizing","border-box"],["style","display","flex"],["style","fontFamily","Space Grotesk"])(e.div(["style","fontSize","32px"],["style","textAlign","center"])(n),o&&e.div(["style","fontSize","16px"],["style","opacity",.5],["style","textAlign","center"],["style","padding","10px 20px 20px 20px"])(o),e.div(["style","flexDirection","column"],["style","alignItems","center"],["style","boxSizing","border-box"],["style","display","flex"],["style","fontFamily","Space Grotesk"],["style","justifyContent","center"],["style","width","100%"])(t));var j=()=>E(d({title:"Introduction",subtitle:"OEM is a flyweight UI library for building sophisticated web applications using a unique, isomorphic syntax that scales with your project.",content:f("column",20,e.div(["style","alignItems","center"],["style","boxSizing","border-box"],["style","display","grid"],["style","flexWrap","wrap"],["style","gap","20px"],["style","justifyContent","center"],["style","width","100%"],["style:tablet","borderRight","1px dashed black"],["style","borderRight","none"],["style:tablet","borderBottom","none"])(F()))}),d({title:"Install",subtitle:"Get started with OEM in seconds.",content:f("column",20,e.div(["prism"])("npm i @linttrap/oem"),e.div(["style","opacity",.35],["style","fontSize","14px"],["style","textAlign","center"])("Or download with unpkg at ",e.a(["attr","href","https://unpkg.com/@linttrap/oem@latest/dist/oem.min.js"],["attr","target","_blank"])("unpkg")))}),d({title:"Learn (~10min)",subtitle:"You can learn the core concepts of OEM in about 10 minutes. Follow along with the examples to get a feel for how OEM works.",content:w({next:{title:"Templates",menuState:"templates"}})}));var x=t=>e.code(["style","backgroundColor","rgba(0,0,0,0.1)"],["style","borderRadius","3px"],["style","fontFamily","monospace"],["style","fontSize","14px"],["style","padding","2px 5px"],["style","margin","0 2px"])(t);var D=t=>e.div(["style","backgroundColor","rgba(0,0,0,0.1)"],["style","padding","10px"])(t),T=t=>e.div(["style","padding","10px"],["style","borderBottom","1px solid rgba(0,0,0,0.1)"],["style","fontSize","13px"],["style:tablet","fontSize","16px"])(t),it=()=>e.div(["style","borderRadius","5px"],["style","boxSizing","border-box"],["style","display","grid"],["style","gridTemplateColumns","1fr 1fr"],["style","width","100%"])(D("Method"),D("Description"),T(e.a(["attr","href","https://github.com/linttrapmedia/oem/blob/main/src/state/State.ts"],["attr","target","_blank"])("val, $val")),T("Get the current value of the state"),T(e.a(["attr","href","https://github.com/linttrapmedia/oem/blob/main/src/state/State.ts"],["attr","target","_blank"])("set, $set")),T("Set the state to a specific value"),T(e.a(["attr","href","https://github.com/linttrapmedia/oem/blob/main/src/state/State.ts"],["attr","target","_blank"])("reduce, $reduce")),T("Reduce state to a specific value"),T(e.a(["attr","href","https://github.com/linttrapmedia/oem/blob/main/src/state/State.ts"],["attr","target","_blank"])("sub, unsub")),T("Subscribe and unsubscribe to state changes"),T(e.a(["attr","href","https://github.com/linttrapmedia/oem/blob/main/src/state/State.ts"],["attr","target","_blank"])("test, $test")),T("Test if a value is equal to the current state")),U=()=>E(d({title:"State",subtitle:"Each state object in OEM is a micro event bus that can be used anywhere in your application. Although OEM is state management agnostic, it's built-in state management works great for most use cases.",content:f("column",10,it())}),d({title:"Getting",subtitle:"Getting the current value of the state is straight forward.",content:f("column",10,e.div(["style","textAlign","center"])("Get the current value with the  ",x("val")," property."),e.pre(["prism"])("color.val;"),e.div(["style","textAlign","center"])("Or with the method  ",x("$val()"),"."),e.pre(["prism"])("color.$val();"))}),d({title:"Setting",subtitle:"Setting state is straight forward as well and includes a few helper methods which begins to introduce some OEM specific patterns.",content:f("column",10,e.div(["style","textAlign","center"])("Set state with the  ",x("set")," method."),e.pre(["prism"])("color.set('blue');"),e.div(["style","textAlign","center"])("Or create callback version of it with  ",x("$set")," to be called later. More on this in the patterns section."),e.pre(["prism"])(`const setToBlue = color.$set('blue');
setToBlue();`),e.div(["style","textAlign","center"])("State can also be set using a reducer with the ",x("reduce")," method."),e.pre(["prism"])("color.reduce((prev) => prev === 'red' ? 'blue' : 'red');"),e.div(["style","textAlign","center"])("Or create callback version of it with  ",x("$reduce")," to call it later."),e.pre(["prism"])(`const toggleColor = color.$reduce((prev) => prev === 'red' ? 'blue' : 'red');
toggleColor();`))}),d({title:"Subscribing",subtitle:"Subscribing to state changes is an important part of state management. OEM makes this easy with the built-in pub/sub pattern.",content:f("column",10,e.div(["style","textAlign","center"])("Subscribe by calling the ",x("sub")," method."),e.pre(["prism"])(`const cb = (val) => console.log(val)
color.sub(cb);`),e.div(["style","textAlign","center"])("You can unsubscribe from state changes by calling ",x("unsub(cb)")),e.pre(["prism"])("color.unsub(callback);"))}),d({title:"Testing",subtitle:"Testing the current state value is useful for conditionally applying traits or other logic in your application.",content:f("column",10,e.div(["style","textAlign","center"])("Test if the current state matches a value with the ",x("test")," method. Note: equality is determined by comparing the serialized values."),e.pre(["prism"])(`color.test('red');
color.$test('red'); // callback version
`),e.div(["style","textAlign","center"])("Works with regular expressions too"),e.pre(["prism"])(`color.test(/red/);
color.$test(/red/); // callback version`),e.div(["style","textAlign","center"])("You can also check for inequality by passing a second argument"),e.pre(["prism"])(`color.test('red', false); // returns true if color is NOT 'red'
color.$test('red', false); // callback version`))}),d({title:"Patterns",subtitle:"Now that you know the basics of creating elements with templates, manipulating it with traits and managing state, let's look at some common patterns to build a real application.",content:w({next:{title:"Patterns",menuState:"patterns"},prev:{title:"Traits",menuState:"traits"}})}));var B=()=>E(d({title:"Templates",subtitle:"OEM is built around the concept of creating micro-templating engines that can be composed together to create complex UIs. This is done by defining a set of traits (small testable functions) that can be attached to HTML elements.",content:f("column",10,e.div(["style","textAlign","center"])("Import the HTML function to create an HTML templating engine"),e.pre(["prism"])(`import { HTML } from 'oem';
const tmpl = HTML({...});`),e.div(["style","textAlign","center"])("You can now generate HTML elements with the templating engine. Notice that the tag generating function is curried. More on that later."),e.pre(["prism"])(`html.div()('Hello World!');
// returns <div>Hello World!</div>`))}),d({title:"Traits",subtitle:"Your template engine can generate html tags, but that's it. How can we add functionality? Small functions called traits. ",content:w({next:{title:"Traits",menuState:"traits"},prev:{title:"Intro",menuState:"introduction"}})}));var V=()=>E(d({title:"Traits",subtitle:"Traits are small, reusable functions that can be attached to HTML elements to add functionality. They can be composed together to create complex behaviors.",content:f("column",20,e.div(["style","textAlign","center"])('A "trait" is just a function that takes an element as its first argument and does something to it.'),e.div(["prism"])("const useStyle = (el: HTMLElement) => {...}"),e.div(["style","textAlign","center"])('Here is an example of a very simple "style" trait for applying css styles to an element.'),e.div(["prism"])(`const useStyle = (el: HTMLElement, prop: string, value: string) => {
  el.style[prop] = value;
}`),e.div(["style","textAlign","center"])("This trait can now be added to your templating engine like this:"),e.div(["prism"])('const tmpl = HTML({ "style": useStyle });'),e.div(["style","textAlign","center"])(`Now, when you render an element, the first curried function takes a list of traits to apply to the element. 'style' will be intellisensed along with it's arguments 'prop' and 'value' (everything after the 'el' argument in your trait function). Here is how you would use the "style" trait to make some text red, 24px, and centered:`),e.div(["prism"])(`tmpl.div(
  ['style','color', 'red'],
  ['style','fontSize','24px'],
  ['style','textAlign','center']
)('...');`))}),d({title:"State",subtitle:'OK, we can generate html, and now have a way to manipulate it with traits. But how do we make it dynamic? What if we could reapply traits when something changes? Enter "State".',content:w({next:{title:"State",menuState:"state"},prev:{title:"Templates",menuState:"templates"}})}));var q={name:"@linttrap/oem",author:"@linttrapmedia",title:"oem",version:"0.7.0",description:"A novel UI library for writing reactive html with vanilla javascript",type:"module",exports:{".":"./src/index.ts"},main:"./src/index.ts",module:"./src/index.ts",repository:{type:"git",url:"git+https://github.com/linttrapmedia/oem.git"},license:"MIT",bugs:{url:"https://github.com/linttrapmedia/oem/issues"},homepage:"https://oem.js.org",devDependencies:{"@types/node":"^18.13.0",esbuild:"^0.14.27",jsdom:"^21.1.0",prettier:"2.7.1","@types/bun":"latest"},dependencies:{},private:!1,peerDependencies:{typescript:"^5"}};var k=(t,n)=>e.div(["style","padding","10px 20px"],["style","cursor","pointer"],["style","transition","background-color 0.3s"],["style","textTransform","uppercase"],["click",y.$set(n)],["style:menu","color","yellow",y.test(n)])(t),J=()=>e.div(["style","backgroundColor","black"],["style","color","white"],["style","padding","10px"],["style","fontWeight","bold"],["style","fontFamily","monospace"],["style","display","flex"],["style","flexDirection","column"],["style","alignItems","center"],["style","justifyContent","center"],["style","textAlign","center"],["html:menu",()=>[e.div(["style","position","absolute"],["style","top","10px"],["style","right","10px"],["style","cursor","pointer"],["style","fontSize","11px"],["style","textTransform","uppercase"],["style","padding","5px"],["style","opacity","0.5"],["style","display","flex"],["style:tablet","display","none"],["click",L.$reduce(t=>!t)])("menu"),e.div(["style","display","flex"],["style","flexDirection","column"],["style","alignItems","center"],["style","justifyContent","center"],["style","position","relative"])(e.div(["style","display","flex"],["style","letterSpacing","2px"],["style","fontSize","40px"],["style","textAlign","left"],["style","lineHeight",.75],["style","color","white"],["style","fontFamily","Splash"],["style","gap","5px"],["style","fontWeight","normal"])("oem",e.span(["style","fontSize","10px"],["style","fontWeight","bold"],["style","fontFamily","monospace"],["style","letterSpacing","0"],["style","color","yellow"])(q.version))),e.div(["style","display","flex"],["style","flexDirection","column"],["style","justifyContent","center"],["style:menu_toggle","display","none",L.$test(!1)],["style:menu_toggle","display","flex",L.$test(!0)],["style:tablet","display","flex"],["style","paddingTop","20px"])(k("Intro","introduction"),k("Templates","templates"),k("Traits","traits"),k("State","state"),k("Patterns","patterns"),k("Kits","kits"))]])();function rt(){return e.div(["style","display","grid"],["style","gridTemplateRows","max-content 1fr"],["style","gridTemplateColumns","1fr"],["style:tablet","gridTemplateRows","auto"],["style:tablet","gridTemplateColumns","max-content 1fr"],["style","height","100vh"],["style","overflow","hidden"],["style","justifyContent","start"])(e.div(["style","backgroundColor","black"],["style","padding","10px"])(J()),e.div(["style","display","flex"],["style","flexDirection","column"],["style","gap","50px"],["style","boxSizing","border-box"],["style","padding","20px 20px 100px"],["style","margin","auto"],["style","flexGrow","1"],["style","height","100%"],["style","overflowY","auto"],["style","width","100%"],["html:menu",j,y.$test(/introduction/)],["html:menu",B,y.$test(/templates/)],["html:menu",V,y.$test(/traits/)],["html:menu",U,y.$test(/state/)])())}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("root");if(!t)return null;t.appendChild(rt())});})();
//# sourceMappingURL=bundle.min.js.map
