function m(e,n){if(!n)return e;let r=n.storage.getItem(n.key),t=JSON.parse(r),s=t!==null&&t!==void 0;if((n.overwrite??!0)&&s)return t;if(!(n.overwrite??!0)&&s){if(Array.isArray(e)&&Array.isArray(t))return[...e,...t];else if(typeof e==="object"&&typeof t==="object")return{...e,...t}}return e}function p(e,n){let r=m(e,n),t=[],s=()=>r,a=(o)=>{if(r=o,t.forEach((y)=>y(o)),n)n.storage.setItem(n.key,JSON.stringify(o))};return{val:r,reduce:(o)=>a(o(r)),set:a,sub:(o)=>{if(!t.includes(o))t.push(o)},test:(o,y=!0)=>{let i=JSON.stringify(r);if(o instanceof RegExp){let u=o.test(i);return y?u:!u}else{let u=JSON.stringify(o),l=i===u;return y?l:!l}},unsub:(o)=>t.splice(t.indexOf(o),1),$val:s,$reduce:(o)=>()=>a(o(s())),$set:(o)=>()=>a(o),$test:(o,y=!0)=>()=>{let i=JSON.stringify(r);if(o instanceof RegExp){let u=o.test(i);return y?u:!u}else{let u=JSON.stringify(o),l=i===u;return y?l:!l}}}}var g=new Map,x=new MutationObserver((e)=>{e.forEach((n)=>{if(n.addedNodes.length>0&&n.type==="childList"){for(let r of Array.from(n.addedNodes))if(r instanceof Element)for(let[t,[s,a]]of g.entries()){let f=Array.from(r.querySelectorAll(t));for(let T of f)c(T,s,a)}}})});x.observe(document,{attributes:!0,childList:!0,subtree:!0});function E(e,n=!0,r){return(...t)=>{if(n)g.set(e,[t,r]);let s=Array.from(document.querySelectorAll(e));for(let a of s)c(a,t,r)}}function S(e,n){return(...r)=>c(e,r,n)}function b(e,n){return(...r)=>{let s=document.createElementNS("http://www.w3.org/1999/xhtml",e);return c(s,r,n)}}function c(e,n=[],r={}){n.forEach(([s,...a])=>r[s](e,...a));function t(...s){return s.forEach((a)=>{if(a)e.append(a)}),e}return t}function v(e){return new Proxy({},{get:(n,r)=>{if(r==="el")return(t)=>S(t,e);if(r==="$el")return(t,s)=>E(t,s,e);return b(r,e)}})}function d(e,n=[],r={}){n.forEach(([s,...a])=>r[s](e,...a));function t(...s){return s.forEach((a)=>e.append(a)),e}return t}function P(e){return new Proxy({},{get:(n,r)=>{if(r==="el")return(t)=>(...s)=>d(t,s,e);return(...t)=>{let a=document.createElementNS("http://www.w3.org/2000/svg",r);return d(a,t,e)}}})}export{p as State,P as SVG,v as HTML};

//# debugId=F8C94982C115DF0C64756E2164756E21
//# sourceMappingURL=oem.cdn.js.map
