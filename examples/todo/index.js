"use strict";(()=>{var z=Object.defineProperty;var I=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var w=(e,t,o)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,O=(e,t)=>{for(var o in t||(t={}))j.call(t,o)&&w(e,o,t[o]);if(I)for(var o of I(t))Y.call(t,o)&&w(e,o,t[o]);return e};var A=new Map,q=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let o of t.addedNodes)if(o instanceof Element)for(let[n,[i,r]]of A.entries()){let l=o.querySelectorAll(n);for(let s of l)v(s,i,r)}}})});q.observe(document,{attributes:!0,childList:!0,subtree:!0});function J(e,t=!0,o){return(...n)=>{t&&A.set(e,[n,o]);let i=document.querySelectorAll(e);for(let r of i)v(r,n,o)}}function $(e,t){return(...o)=>v(e,o,t)}function K(e,t){return(...o)=>{let n="http://www.w3.org/1999/xhtml",i=document.createElementNS(n,e);return v(i,o,t)}}function v(e,t=[],o={}){t.forEach(([i,...r])=>o[i](e,...r));function n(...i){return i.forEach(r=>e.append(r)),e}return n}function S(e){return new Proxy({},{get:(t,o)=>o==="el"?n=>$(n,e):o==="$el"?(n,i)=>J(n,i,e):K(o,e)})}function h(e){let{event:t=null,eventElement:o=window,hideOnFalse:n=!0,invokeImmediately:i=!0,mediaMinWidth:r=0,mediaMaxWidth:l=1/0,state:s=void 0}=e!=null?e:{};return(...p)=>{let[d,b,T,m]=p,a=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=l))return;let f=s&&typeof T=="function"?T(s.get()):T,D=String(f)==="true"||String(f)==="false",H=typeof m=="function"?m(s?s.get():void 0):m!=null?m:!0;if(D&&n&&String(f)==="false"||D&&H===!1)return d.removeAttribute(b);H!==!1&&d.setAttribute(b,String(f))};s&&s.sub(a),t&&(d!=null?d:o).addEventListener(t,a),window.addEventListener("resize",a),i&&a()}}function M(e){let{state:t}=e!=null?e:{};return(...o)=>{let[n,i,r]=o,l=()=>{n.innerHTML="";let s=t?i(t.get()):i();(typeof r=="function"?r(t?t.get():void 0):r!=null?r:!0)&&(n.innerHTML="",Array.isArray(s)?s.forEach(d=>{d instanceof HTMLElement?n.appendChild(d):n.appendChild(document.createTextNode(String(d)))}):s instanceof HTMLElement?n.appendChild(s):n.innerHTML=String(s))};t&&t.sub(l),l()}}function g(e){let{event:t=null,eventElement:o=window,invokeImmediately:n=!0,mediaMinWidth:i=0,mediaMaxWidth:r=1/0,state:l=void 0}=e!=null?e:{};return(...s)=>{let[p,d,b,T]=s,m=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=r))return;let c=String(typeof b=="function"?b(l?l.get():void 0):b);(typeof T=="function"?T(l?l.get():void 0):T!=null?T:!0)&&(p.style[d]=c)};l&&l.sub(m),window.addEventListener("resize",m),t&&(p!=null?p:o).addEventListener(t,m),n&&!t&&m()}}function _(e){let{state:t}=e!=null?e:{};return(...o)=>{let[n,i,r]=o,l=()=>{let s=typeof i=="function"?i(t?t.get():void 0):i;(typeof r=="function"?r(t?t.get():void 0):r!=null?r:!0)&&(n.textContent=String(s))};t&&t.sub(l),l()}}function L(e,t){var T,m;let o=e;if(t){let a=t.storage.getItem(t.key),c=JSON.parse(a),f=c!=null;((T=t.overwrite)!=null?T:!0)&&f&&(e=c),!((m=t.overwrite)==null||m)&&f&&(Array.isArray(e)&&Array.isArray(c)?e=[...e,...c]:typeof e=="object"&&typeof c=="object"&&(e=O(O({},e),c)))}let n=e,i=[],r=()=>n,l=a=>()=>p(a(n)),s=()=>p(o),p=a=>{n=a,i.forEach(c=>c(n)),t&&t.storage.setItem(t.key,JSON.stringify(n))};return{get:r,reset:s,reduce:l,set:p,sub:a=>i.push(a),unsub:a=>i.splice(i.indexOf(a),1)}}var y=L([{title:"Learn React",completed:!0},{title:"Learn TypeScript",completed:!1},{title:"Learn Node.js",completed:!1}],{key:"todoState",storage:sessionStorage}),x=L("");var C=()=>{if(x.get()==="")return;let e=y.get();e.push({title:x.get(),completed:!1}),y.set(e),x.set("")},N=e=>{let t=y.get(),o=t.findIndex(n=>n.title===e.title);t.splice(o,1),y.set(t)},P=e=>{x.set(e)},k=e=>{let t=y.get(),o=t.findIndex(n=>n.title===e.title);t[o].completed=!t[o].completed,y.set(t)};var Q="READY";function E(...e){let[t,o]=e;switch(Q){case"READY":switch(t){case"TODO:INPUT":P(o);break;case"TODO:ADD":C();break;case"TODO:DELETE":N(o);break;case"TODO:TOGGLE":k(o);break}break;case"ERROR":break}}var W=(e,t)=>{e.addEventListener("click",o=>{o.stopPropagation(),E("TODO:DELETE",t)})},U=(e,t)=>{e.addEventListener("click",()=>{E("TODO:TOGGLE",t)})},G=e=>{e.addEventListener("submit",t=>{t.preventDefault(),t.target.reset(),E("TODO:ADD")})},R=e=>{e.addEventListener("input",t=>{let n=t.target.value;E("TODO:INPUT",n)})};var u=S({"style:mobile":g({state:y,mediaMinWidth:0}),"style:mouseout":g({event:"mouseout"}),"style:mouseover":g({event:"mouseover"}),"style:tablet":g({state:y,mediaMinWidth:768}),"todo:form:onsubmit":G,"todo:innerHTML":M({state:y}),"todo:input:oninput":R,"todo:item:toggle":U,"todo:item:delete":W,attr:h(),text:_()});var B=u.form(["style:mobile","backgroundColor","#f2f2f2"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","padding","20px"],["style:mobile","display","flex"],["style:mobile","gap","10px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","marginBlockEnd","0"],["style:mobile","boxSizing","border-box"],["todo:form:onsubmit"])(u.input(["attr","placeholder","New Todo"],["style:mobile","border","1px solid lightgray"],["style:mobile","padding","10px"],["style:mobile","borderRadius","3px"],["style:mobile","flex","1"],["todo:input:oninput"])(),u.button(["attr","type","submit"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","3px"],["style:mobile","padding","10px"],["style:mobile","backgroundColor","lightgray"],["style:mobile","fontWeight","bold"],["style:mobile","cursor","pointer"])("Submit"));var X=e=>u.div(["style:mobile","cursor","pointer"],["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["style:mobile","justifyContent","space-between"],["todo:item:toggle",e])(u.div(["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"])(u.span(["text","\u2B1C\uFE0F",()=>!e.completed],["text","\u2705",()=>e.completed])(),u.span(["style:mobile","textDecoration","line-through",()=>e.completed],["style:mobile","textDecoration","none",()=>!e.completed])(e.title)),u.button(["style:mobile","border","1px solid #AAA"],["style:mobile","backgroundColor","transparent"],["style:mobile","color","#AAA"],["style:mobile","cursor","pointer"],["style:mobile","marginBlockEnd","end"],["style:mouseover","backgroundColor","#d2d2d2"],["style:mouseout","backgroundColor","transparent"],["todo:item:delete",e])("x")),F=u.div(["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","gap","10px"],["todo:innerHTML",e=>e.sort((t,o)=>t.title.localeCompare(o.title)).sort((t,o)=>Number(t.completed)-Number(o.completed)).map(X)])();var V=u.div(["style:mobile","alignItems","center"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","fontSize","16px"],["style:mobile","height","100vh"],["style:mobile","justifyContent","flex-start"],["style:mobile","fontFamily","Arial, sans-serif"],["style:mobile","color","gray"],["style:mobile","gap","20px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"])(B,F);document.addEventListener("DOMContentLoaded",()=>{document.getElementById("root").appendChild(V)});})();
//# sourceMappingURL=index.js.map
