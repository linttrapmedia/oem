function W(t,e){if(!e)return t;let o=e.storage.getItem(e.key),n=JSON.parse(o),r=n!==null&&n!==void 0;if((e.overwrite??!0)&&r)return n;if(!(e.overwrite??!0)&&r){if(Array.isArray(t)&&Array.isArray(n))return[...t,...n];else if(typeof t==="object"&&typeof n==="object")return{...t,...n}}return t}function x(t,e){let o=W(t,e),n=[],r=()=>o,s=(l)=>{if(o=l,n.forEach((p)=>p(l)),e)e.storage.setItem(e.key,JSON.stringify(l))};return{val:o,reduce:(l)=>s(l(o)),set:s,sub:(l)=>{if(!n.includes(l))n.push(l)},test:(l,p=!0)=>{let v=JSON.stringify(o);if(l instanceof RegExp){let b=l.test(v);return p?b:!b}else{let b=JSON.stringify(l),g=v===b;return p?g:!g}},unsub:(l)=>n.splice(n.indexOf(l),1),$val:r,$reduce:(l)=>()=>s(l(r())),$set:(l)=>()=>s(l),$test:(l,p=!0)=>()=>{let v=JSON.stringify(o);if(l instanceof RegExp){let b=l.test(v);return p?b:!b}else{let b=JSON.stringify(l),g=v===b;return p?g:!g}}}}var H=new Map,V=new MutationObserver((t)=>{t.forEach((e)=>{if(e.addedNodes.length>0&&e.type==="childList"){for(let o of Array.from(e.addedNodes))if(o instanceof Element)for(let[n,[r,s]]of H.entries()){let i=Array.from(o.querySelectorAll(n));for(let a of i)M(a,r,s)}}})});V.observe(document,{attributes:!0,childList:!0,subtree:!0});function z(t,e=!0,o){return(...n)=>{if(e)H.set(t,[n,o]);let r=Array.from(document.querySelectorAll(t));for(let s of r)M(s,n,o)}}function F(t,e){return(...o)=>M(t,o,e)}function B(t,e){return(...o)=>{let r=document.createElementNS("http://www.w3.org/1999/xhtml",t);return M(r,o,e)}}function M(t,e=[],o={}){e.forEach(([r,...s])=>o[r](t,...s));function n(...r){return r.forEach((s)=>{if(s)t.append(s)}),t}return n}function h(t){return new Proxy({},{get:(e,o)=>{if(o==="el")return(n)=>F(n,t);if(o==="$el")return(n,r)=>z(n,r,t);return B(o,t)}})}var j=x(void 0),J=x([{title:"Learn React",completed:!0},{title:"Learn TypeScript",completed:!1},{title:"Learn Node.js",completed:!1}],{key:"todoList",storage:sessionStorage}),q=x(""),d={todoItemHovered:j,todoList:J,todoNew:q};function I(t){let{event:e=null,eventElement:o=window,invokeImmediately:n=!0,mediaMinWidth:r=0,mediaMaxWidth:s=1/0,state:i=void 0}=t??{};return(...a)=>{let[m,u,y,T]=a,f=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=s))return;let p=i&&typeof y==="function"?y(i.$val()):y;if(typeof T==="function"?T(i?i.$val():void 0):T??!0)if(p===void 0)m.removeAttribute(u);else m.setAttribute(u,String(p))};if(i)i.sub(f);if(e)(m??o).addEventListener(e,f);if(window.addEventListener("resize",f),n)f()}}function _(t){let{state:e,event:o}=t??{};return(...n)=>{let[r,s,i]=n,a=()=>{let m=(y)=>s(y);if(typeof i==="function"?i(e?e.$val():void 0):i??!0)r.addEventListener(o,m);else r.removeEventListener(o,m)};if(e)e.sub(a);a()}}function P(t){let{state:e}=t??{};return(...o)=>{let[n,r,s]=o,i=()=>{let a=e?r(e.$val()):r();if(typeof s==="function"?s(e?e.val:void 0):s??!0){if(n.innerHTML="",a!==void 0)if(Array.isArray(a))a.filter((u)=>u).forEach((u)=>{if(u instanceof HTMLElement||u instanceof SVGElement)n.appendChild(u);else n.appendChild(document.createTextNode(String(u)))});else if(a instanceof HTMLElement||a instanceof SVGElement)n.appendChild(a);else n.innerHTML=String(a)}};if(e)e.sub(i);i()}}function E(t){let{event:e=null,eventElement:o=window,invokeImmediately:n=!0,mediaMinWidth:r=0,mediaMaxWidth:s=1/0,state:i=void 0}=t??{};return(...a)=>{let[m,u,y,T]=a,f=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=s))return;let p=typeof y==="function"?y(i?i.$val():void 0):y;if(typeof T==="function"?T(i?i.$val():void 0):T??!0)if(p===void 0)m.style.removeProperty(u);else u.startsWith("--")?m.style.setProperty(u,p):m.style[u]=p};if(i)i.sub(f);if(window.addEventListener("resize",f),e)(m??o).addEventListener(e,f);if(n&&!e)f()}}function S(t){let{event:e,eventElement:o,state:n}=t??{};return(...r)=>{let[s,i,a]=r,m=()=>{let u=typeof i==="function"?i(n?n.$val():void 0):i;if(typeof a==="function"?a(n?n.$val():void 0):a??!0)s.textContent=String(u)};if(n)n.sub(m);if(window.addEventListener("resize",m),e)(s??o).addEventListener(e,m);m()}}var w=()=>{if(d.todoNew.$val()==="")return;let t=d.todoList.$val();t.push({title:d.todoNew.$val(),completed:!1}),d.todoList.set(t),d.todoNew.set("")},k=(t)=>{let e=d.todoList.$val(),o=e.findIndex((n)=>n.title===t.title);e.splice(o,1),d.todoList.set(e)},A=(t)=>{d.todoNew.set(t)},R=(t)=>{let e=d.todoList.$val(),o=e.findIndex((n)=>n.title===t.title);e[o].completed=!e[o].completed,d.todoList.set(e)};var Q="READY";function L(...t){let[e,o]=t;switch(Q){case"READY":switch(e){case"TODO:INPUT":A(o);break;case"TODO:ADD":w();break;case"TODO:DELETE":k(o);break;case"TODO:TOGGLE":R(o);break}break;case"ERROR":break}}var $=(t,e)=>{t.addEventListener("click",(o)=>{o.stopPropagation(),L("TODO:DELETE",e)})},C=(t,e)=>{t.addEventListener("click",()=>{L("TODO:TOGGLE",e)})},O=(t)=>{t.addEventListener("submit",(e)=>{e.preventDefault(),e.target.reset(),L("TODO:ADD")})},N=(t)=>{t.addEventListener("input",(e)=>{let n=e.target.value;L("TODO:INPUT",n)})};var c=h({"style:mobile":E({state:d.todoList,mediaMinWidth:0}),"style:mouseout":E({event:"mouseout"}),"style:mouseover":E({event:"mouseover"}),"style:tablet":E({state:d.todoList,mediaMinWidth:768}),"text:mouseout":S({event:"mouseout"}),"text:mouseover":S({event:"mouseover"}),"todo__form__input:oninput":N,"todo__form:onsubmit":O,"todo__item:ondelete":$,"todo__item:onmouseout":_({event:"mouseout"}),"todo__item:onmouseover":_({event:"mouseover"}),"todo__item:ontoggle":C,"todo__item:text":S({state:d.todoItemHovered}),"todo__list:html":P({state:d.todoList}),attr:I(),text:S()});var D=c.form(["style:mobile","backgroundColor","#f2f2f2"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","padding","20px"],["style:mobile","display","flex"],["style:mobile","gap","10px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","marginBlockEnd","0"],["style:mobile","boxSizing","border-box"],["todo__form:onsubmit"])(c.input(["attr","placeholder","New Todo"],["style:mobile","border","1px solid lightgray"],["style:mobile","padding","10px"],["style:mobile","borderRadius","3px"],["style:mobile","flex","1"],["todo__form__input:oninput"])(),c.button(["attr","type","submit"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","3px"],["style:mobile","padding","10px"],["style:mobile","backgroundColor","lightgray"],["style:mobile","fontWeight","bold"],["style:mobile","cursor","pointer"])("Submit")),G=(t)=>{let e=()=>d.todoItemHovered.$val()?.title===t.title||t.completed,o=()=>d.todoItemHovered.$val()?.title!==t.title&&!t.completed,n=()=>d.todoItemHovered.set(t),r=()=>d.todoItemHovered.set(void 0),s=()=>t.completed,i=()=>!t.completed;return c.div(["style:mobile","cursor","pointer"],["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["style:mobile","justifyContent","space-between"],["todo__item:ontoggle",t],["todo__item:onmouseover",n],["todo__item:onmouseout",r])(c.div(["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["style:mobile","flexDirection","row"],["style:mobile","justifyContent","space-between"],["style:mobile","flex","1"])(c.div(["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"])(c.div(["style:mobile","width","15px"],["style:mobile","height","15px"],["style:mobile","backgroundColor","black"],["style:mobile","color","white",s],["style:mobile","color","gray",i],["style:mobile","padding","5px"],["todo__item:text","âœ”",e],["todo__item:text","",o])(),c.span(["style:mobile","color","green",s],["style:mobile","color","gray",i],["style:mobile","textDecoration","line-through",s],["style:mobile","textDecoration","none",i])(t.title)),c.button(["style:mobile","backgroundColor","black"],["style:mobile","border","none"],["style:mobile","color","white"],["style:mobile","cursor","pointer"],["style:mobile","fontSize","14px"],["style:mobile","marginBlockEnd","end"],["style:mobile","padding","5px 10px"],["style:mouseout","backgroundColor","black"],["style:mouseover","backgroundColor","#999999"],["todo__item:ondelete",t])("delete")))},K=c.div(["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","gap","10px"],["todo__list:html",(t)=>t.sort((e,o)=>e.title.localeCompare(o.title)).sort((e,o)=>Number(e.completed)-Number(o.completed)).map(G)])(),X=c.div(["style:mobile","alignItems","center"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","fontSize","16px"],["style:mobile","height","100vh"],["style:mobile","justifyContent","flex-start"],["style:mobile","fontFamily","Arial, sans-serif"],["style:mobile","color","gray"],["style:mobile","gap","20px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"])(D,K),U={TodoForm:D,TodoList:K,TodoListItem:G,TodoView:X};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("root").appendChild(U.TodoView)});

//# debugId=9204EC84AC26E35764756E2164756E21
//# sourceMappingURL=index.js.map
