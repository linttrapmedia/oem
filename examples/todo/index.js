function U(e,t){if(!t)return e;let o=t.storage.getItem(t.key),n=JSON.parse(o),r=n!==null&&n!==void 0;if((t.overwrite??!0)&&r)return n;if(!(t.overwrite??!0)&&r){if(Array.isArray(e)&&Array.isArray(n))return[...e,...n];else if(typeof e==="object"&&typeof n==="object")return{...e,...n}}return e}function v(e,t){let o=U(e,t),n=[],r=()=>o,s=(i)=>{if(o=i,n.forEach((b)=>b(i)),t)t.storage.setItem(t.key,JSON.stringify(i))};return{val:o,reduce:(i)=>s(i(o)),set:s,sub:(i)=>{if(!n.includes(i))n.push(i)},test:(i,b=!0)=>{let g=JSON.stringify(o);if(i instanceof RegExp){let y=i.test(g);return b?y:!y}else if(typeof i==="function"&&i instanceof Function){let y=i(o);return b?y:!y}else{let y=JSON.stringify(i),x=g===y;return b?x:!x}},unsub:(i)=>n.splice(n.indexOf(i),1),$val:r,$reduce:(i)=>()=>s(i(r())),$set:(i)=>()=>s(i),$test:(i,b=!0)=>()=>{let g=JSON.stringify(o);if(i instanceof RegExp){let y=i.test(g);return b?y:!y}else if(typeof i==="function"&&i instanceof Function){let y=i(o);return b?y:!y}else{let y=JSON.stringify(i),x=g===y;return b?x:!x}}}}function W(e,t){return(...o)=>{let r=document.createElementNS("http://www.w3.org/1999/xhtml",e);return F(r,o,t)}}function F(e,t=[],o={}){t.forEach(([r,...s])=>o[r](e,...s));function n(...r){return r.forEach((s)=>{if(s)e.append(s)}),e}return n}function L(e){return new Proxy({},{get:(t,o)=>W(o,e)})}var z=v(void 0),h=v([{title:"Learn React",completed:!0},{title:"Learn TypeScript",completed:!1},{title:"Learn Node.js",completed:!1}],{key:"todoList",storage:sessionStorage}),j=v(""),d={todoItemHovered:z,todoList:h,todoNew:j};function A(e){let{state:t=void 0}=e??{};return(...o)=>{let[n,r,s,l=!0]=o,m=()=>{let u=typeof s==="function"?s():s;if(typeof l==="function"?l():l)if(n.setAttribute(r,String(u)),u===void 0)n.removeAttribute(r);else n.setAttribute(r,String(u))},a=Array.isArray(t);if(t)a?t.forEach((u)=>u.sub(m)):t.sub(m);m()}}var H=new WeakMap;function I(e){let{state:t,event:o="click"}=e??{};return(...n)=>{let[r,s,l=!0]=n;if(!H.has(r))H.set(r,new Map);let m=H.get(r),a=()=>{let c=typeof l==="function"?l():l,f=m.get(o)??null;if(f)r.removeEventListener(o,f),m.set(o,null),f=null;if(c){let T=(i)=>s(i);r.addEventListener(o,T),m.set(o,T),f=T}},u=Array.isArray(t);if(t)u?t.forEach((c)=>c.sub(a)):t.sub(a);a()}}function M(e){let{state:t}=e??{};return(...o)=>{let[n,r,s=!0]=o,l=()=>{let a=r();if(typeof s==="function"?s():s){if(n.innerHTML="",a!==void 0)if(Array.isArray(a))a.filter((c)=>c).forEach((c)=>{if(c instanceof HTMLElement||c instanceof SVGElement)n.appendChild(c);else n.appendChild(document.createTextNode(String(c)))});else if(a instanceof HTMLElement||a instanceof SVGElement)n.appendChild(a);else n.innerHTML=String(a)}},m=Array.isArray(t);if(t)m?t.forEach((a)=>a.sub(l)):t.sub(l);l()}}function S(e){let{mediaMinWidth:t=0,mediaMaxWidth:o=1/0,state:n=void 0}=e??{};return(...r)=>{let[s,l,m,a=!0]=r,u=()=>{if(!(window.innerWidth>=t&&window.innerWidth<=o))return;let T=typeof m==="function"?m():m;if(typeof a==="function"?a():a)if(T===void 0)s.style.removeProperty(l);else l.startsWith("--")?s.style.setProperty(l,T):s.style[l]=T},c=Array.isArray(n);if(n)c?n.forEach((f)=>f.sub(u)):n.sub(u);if(e?.mediaMinWidth||e?.mediaMaxWidth)new ResizeObserver(u).observe(document.body);u()}}function E(e){let{state:t}=e??{};return(...o)=>{let[n,r,s]=o,l=()=>{let a=typeof r==="function"?r():r;if(typeof s==="function"?s():s??!0)n.textContent=String(a)},m=Array.isArray(t);if(t)m?t.forEach((a)=>a.sub(l)):t.sub(l);l()}}var P=()=>{if(d.todoNew.$val()==="")return;let e=d.todoList.$val();e.push({title:d.todoNew.$val(),completed:!1}),d.todoList.set(e),d.todoNew.set("")},k=(e)=>{let t=d.todoList.$val(),o=t.findIndex((n)=>n.title===e.title);t.splice(o,1),d.todoList.set(t)},R=(e)=>{d.todoNew.set(e)},w=(e)=>{let t=d.todoList.$val(),o=t.findIndex((n)=>n.title===e.title);t[o].completed=!t[o].completed,d.todoList.set(t)};var B="READY";function _(...e){let[t,o]=e;switch(B){case"READY":switch(t){case"TODO:INPUT":R(o);break;case"TODO:ADD":P();break;case"TODO:DELETE":k(o);break;case"TODO:TOGGLE":w(o);break}break;case"ERROR":break}}var C=(e,t)=>{e.addEventListener("click",(o)=>{o.stopPropagation(),_("TODO:DELETE",t)})},O=(e,t)=>{e.addEventListener("click",()=>{_("TODO:TOGGLE",t)})},D=(e)=>{e.addEventListener("submit",(t)=>{t.preventDefault(),t.target.reset(),_("TODO:ADD")})},$=(e)=>{e.addEventListener("input",(t)=>{let n=t.target.value;_("TODO:INPUT",n)})};var p=L({"style:mobile":S({state:d.todoList,mediaMinWidth:0}),"style:mouseout":S({event:"mouseout"}),"style:mouseover":S({event:"mouseover"}),"style:tablet":S({state:d.todoList,mediaMinWidth:768}),"text:mouseout":E({event:"mouseout"}),"text:mouseover":E({event:"mouseover"}),"todo__form__input:oninput":$,"todo__form:onsubmit":D,"todo__item:ondelete":C,"todo__item:onmouseout":I({event:"mouseout"}),"todo__item:onmouseover":I({event:"mouseover"}),"todo__item:ontoggle":O,"todo__item:text":E({state:d.todoItemHovered}),"todo__list:html":M({state:d.todoList}),attr:A(),text:E()});var N=p.form(["style:mobile","backgroundColor","#f2f2f2"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","padding","20px"],["style:mobile","display","flex"],["style:mobile","gap","10px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","marginBlockEnd","0"],["style:mobile","boxSizing","border-box"],["todo__form:onsubmit"])(p.input(["attr","placeholder","New Todo"],["style:mobile","border","1px solid lightgray"],["style:mobile","padding","10px"],["style:mobile","borderRadius","3px"],["style:mobile","flex","1"],["todo__form__input:oninput"])(),p.button(["attr","type","submit"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","3px"],["style:mobile","padding","10px"],["style:mobile","backgroundColor","lightgray"],["style:mobile","fontWeight","bold"],["style:mobile","cursor","pointer"])("Submit")),K=(e)=>{let t=()=>d.todoItemHovered.$val()?.title===e.title||e.completed,o=()=>d.todoItemHovered.$val()?.title!==e.title&&!e.completed,n=()=>d.todoItemHovered.set(e),r=()=>d.todoItemHovered.set(void 0),s=()=>e.completed,l=()=>!e.completed;return p.div(["style:mobile","cursor","pointer"],["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["style:mobile","justifyContent","space-between"],["todo__item:ontoggle",e],["todo__item:onmouseover",n],["todo__item:onmouseout",r])(p.div(["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["style:mobile","flexDirection","row"],["style:mobile","justifyContent","space-between"],["style:mobile","flex","1"])(p.div(["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"])(p.div(["style:mobile","width","15px"],["style:mobile","height","15px"],["style:mobile","backgroundColor","black"],["style:mobile","color","white",s],["style:mobile","color","gray",l],["style:mobile","padding","5px"],["todo__item:text","âœ”",t],["todo__item:text","",o])(),p.span(["style:mobile","color","green",s],["style:mobile","color","gray",l],["style:mobile","textDecoration","line-through",s],["style:mobile","textDecoration","none",l])(e.title)),p.button(["style:mobile","backgroundColor","black"],["style:mobile","border","none"],["style:mobile","color","white"],["style:mobile","cursor","pointer"],["style:mobile","fontSize","14px"],["style:mobile","marginBlockEnd","end"],["style:mobile","padding","5px 10px"],["style:mouseout","backgroundColor","black"],["style:mouseover","backgroundColor","#999999"],["todo__item:ondelete",e])("delete")))},V=p.div(["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","gap","10px"],["todo__list:html",()=>h.$val().sort((e,t)=>e.title.localeCompare(t.title)).sort((e,t)=>Number(e.completed)-Number(t.completed)).map(K)])(),Y=p.div(["style:mobile","alignItems","center"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","fontSize","16px"],["style:mobile","height","100vh"],["style:mobile","justifyContent","flex-start"],["style:mobile","fontFamily","Arial, sans-serif"],["style:mobile","color","gray"],["style:mobile","gap","20px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"])(N,V),G={TodoForm:N,TodoList:V,TodoListItem:K,TodoView:Y};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("root").appendChild(G.TodoView)});

//# debugId=33B8496FDA135FB164756E2164756E21
//# sourceMappingURL=index.js.map
