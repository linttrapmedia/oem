"use strict";(()=>{var D=Object.defineProperty;var k=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var O=(t,e,n)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||(e={}))U.call(e,n)&&O(t,n,e[n]);if(k)for(var n of k(e))R.call(e,n)&&O(t,n,e[n]);return t};var A=new Map,G=new MutationObserver(t=>{t.forEach(e=>{if(e.addedNodes.length>0&&e.type==="childList"){for(let n of e.addedNodes)if(n instanceof Element)for(let[o,[i,r]]of A.entries()){let s=n.querySelectorAll(o);for(let l of s)x(l,i,r)}}})});G.observe(document,{attributes:!0,childList:!0,subtree:!0});function B(t,e=!0,n){return(...o)=>{e&&A.set(t,[o,n]);let i=document.querySelectorAll(t);for(let r of i)x(r,o,n)}}function V(t,e){return(...n)=>x(t,n,e)}function F(t,e){return(...n)=>{let o="http://www.w3.org/1999/xhtml",i=document.createElementNS(o,t);return x(i,n,e)}}function x(t,e=[],n={}){e.forEach(([i,...r])=>n[i](t,...r));function o(...i){return i.forEach(r=>t.append(r)),t}return o}function h(t){return new Proxy({},{get:(e,n)=>n==="el"?o=>V(o,t):n==="$el"?(o,i)=>B(o,i,t):F(n,t)})}function L(t){let{event:e=null,eventElement:n=window,hideOnFalse:o=!0,invokeImmediately:i=!0,mediaMinWidth:r=0,mediaMaxWidth:s=1/0,state:l=void 0}=t!=null?t:{};return(...d)=>{let[m,b,p,u]=d,a=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=s))return;let T=l&&typeof p=="function"?p(l.get()):p,I=String(T)==="true"||String(T)==="false",P=typeof u=="function"?u(l?l.get():void 0):u!=null?u:!0;if(I&&o&&String(T)==="false"||I&&P===!1)return m.removeAttribute(b);P!==!1&&m.setAttribute(b,String(T))};l&&l.sub(a),e&&(m!=null?m:n).addEventListener(e,a),window.addEventListener("resize",a),i&&a()}}function H(t){let{state:e}=t!=null?t:{};return(...n)=>{let[o,i,r]=n,s=()=>{o.innerHTML="";let l=e?i(e.get()):i();(typeof r=="function"?r(e?e.get():void 0):r!=null?r:!0)&&(o.innerHTML="",Array.isArray(l)?l.forEach(m=>{m instanceof HTMLElement?o.appendChild(m):o.appendChild(document.createTextNode(String(m)))}):l instanceof HTMLElement?o.appendChild(l):o.innerHTML=String(l))};e&&e.sub(s),s()}}function E(t){let{event:e=null,eventElement:n=window,invokeImmediately:o=!0,mediaMinWidth:i=0,mediaMaxWidth:r=1/0,state:s=void 0}=t!=null?t:{};return(...l)=>{let[d,m,b,p]=l,u=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=r))return;let c=String(typeof b=="function"?b(s?s.get():void 0):b);(typeof p=="function"?p(s?s.get():void 0):p!=null?p:!0)&&(d.style[m]=c)};s&&s.sub(u),window.addEventListener("resize",u),e&&(d!=null?d:n).addEventListener(e,u),o&&!e&&u()}}function w(t){let{state:e}=t!=null?t:{};return(...n)=>{let[o,i,r]=n,s=()=>{let l=typeof i=="function"?i(e?e.get():void 0):i;(typeof r=="function"?r(e?e.get():void 0):r!=null?r:!0)&&(o.textContent=String(l))};e&&e.sub(s),s()}}function v(t,e){var p,u;let n=t;if(e){let a=e.storage.getItem(e.key),c=JSON.parse(a),T=c!=null;((p=e.overwrite)!=null?p:!0)&&T&&(t=c),!((u=e.overwrite)==null||u)&&T&&(Array.isArray(t)&&Array.isArray(c)?t=[...t,...c]:typeof t=="object"&&typeof c=="object"&&(t=M(M({},t),c)))}let o=t,i=[],r=()=>o,s=a=>()=>d(a(o)),l=()=>d(n),d=a=>{o=a,i.forEach(c=>c(o)),e&&e.storage.setItem(e.key,JSON.stringify(o))};return{get:r,reset:l,reduce:s,set:d,sub:a=>i.push(a),unsub:a=>i.splice(i.indexOf(a),1)}}var y=v([{title:"Learn React",completed:!0},{title:"Learn TypeScript",completed:!1},{title:"Learn Node.js",completed:!1}],{key:"todoState",storage:sessionStorage}),g=v("");var z="READY";function S(...t){let[e,n]=t;switch(z){case"READY":switch(e){case"TODO:INPUT":let o=n;g.set(o);break;case"TODO:ADD":if(g.get()==="")return;let i=y.get();i.push({title:g.get(),completed:!1}),y.set(i),g.set("");break;case"TODO:TOGGLE":let r=n,s=y.get(),l=s.findIndex(d=>d.title===r.title);s[l].completed=!s[l].completed,y.set(s);break}break;case"ERROR":break}}var C=(t,e)=>{t.addEventListener("click",()=>{S("TODO:TOGGLE",e)})},_=t=>{t.addEventListener("submit",e=>{e.preventDefault(),e.target.reset(),S("TODO:ADD")})},N=t=>{t.addEventListener("input",e=>{let o=e.target.value;S("TODO:INPUT",o)})};var f=h({"style:mobile":E({state:y,mediaMinWidth:0}),"style:tablet":E({state:y,mediaMinWidth:768}),"todo:form:onsubmit":_,"todo:innerHTML":H({state:y}),"todo:input:oninput":N,"todo:item:onclick":C,attr:L(),text:w()});var W=f.div(["style:mobile","alignItems","center"],["style:mobile","display","flex"],["style:mobile","flexDirection","column"],["style:mobile","fontSize","16px"],["style:mobile","height","100vh"],["style:mobile","justifyContent","flex-start"],["style:mobile","fontFamily","Arial, sans-serif"],["style:mobile","color","gray"],["style:mobile","gap","20px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"])(f.form(["style:mobile","backgroundColor","#f2f2f2"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","padding","20px"],["style:mobile","display","flex"],["style:mobile","gap","10px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["style:mobile","marginBlockEnd","0"],["style:mobile","boxSizing","border-box"],["todo:form:onsubmit"])(f.input(["attr","placeholder","New Todo"],["style:mobile","border","1px solid lightgray"],["style:mobile","padding","10px"],["style:mobile","borderRadius","3px"],["style:mobile","flex","1"],["todo:input:oninput"])(),f.button(["attr","type","submit"],["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","3px"],["style:mobile","padding","10px"],["style:mobile","backgroundColor","lightgray"],["style:mobile","fontWeight","bold"],["style:mobile","cursor","pointer"])("Submit")),f.div(["style:mobile","border","1px solid lightgray"],["style:mobile","borderRadius","5px"],["style:mobile","boxSizing","border-box"],["style:mobile","padding","20px"],["style:mobile","maxWidth","400px"],["style:mobile","width","100%"],["todo:innerHTML",t=>t.sort((e,n)=>e.title.localeCompare(n.title)).sort((e,n)=>Number(e.completed)-Number(n.completed)).map(e=>f.div(["style:mobile","cursor","pointer"],["style:mobile","display","flex"],["style:mobile","alignItems","center"],["style:mobile","gap","10px"],["todo:item:onclick",e])(f.span(["text","\u2B1C\uFE0F",()=>!e.completed],["text","\u2705",()=>e.completed])(),f.span(["style:mobile","textDecoration","line-through",()=>e.completed],["style:mobile","textDecoration","none",()=>!e.completed])(e.title)))])());document.addEventListener("DOMContentLoaded",()=>{document.getElementById("root").appendChild(W)});})();
//# sourceMappingURL=index.js.map
