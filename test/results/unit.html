<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var v=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function M(e,t){let s=e;if(t){let l=t.storage.getItem(t.key),u=JSON.parse(l),m=u!=null;(t.overwrite??!0)&&m&&(e=u),!(t.overwrite??!0)&&m&&(Array.isArray(e)&&Array.isArray(u)?e=[...e,...u]:typeof e=="object"&&typeof u=="object"&&(e={...e,...u}))}let n=e,o=[],i=()=>n,a=l=>()=>d(l(n)),r=()=>d(s),d=l=>{n=l,o.forEach(u=>u(n)),t&&t.storage.setItem(t.key,JSON.stringify(n))};return{get:i,reset:r,reduce:a,set:d,sub:l=>o.push(l),unsub:l=>o.splice(o.indexOf(l),1)}}var _=()=>({pass:M(1).get()===1}),z=()=>{let e=M(1);return e.set(2),{pass:e.get()===2}},k=()=>{let e=M(1),t=!1;return e.sub(()=>t=!0),e.set(2),{pass:t}},U=()=>{let e=M(1),t=!1,s=()=>t=!t;return e.sub(s),e.set(2),e.unsub(s),e.set(3),{pass:t}};var G=v.slice(2).map(e=>e.split("=")).reduce((e,[t,s])=>({...e,[t]:s}),{});var dt=G.FILTER;function R(e){let t=document.querySelector("#test-sandbox"),s=document.querySelector("#test-results");s.style.display="grid",s.style.columnGap="10px",s.style.rowGap="2px",s.style.gridTemplateColumns="auto auto auto 1fr",e.forEach(([n,...o])=>{o.filter(i=>(n+i[0].split(" ").join("")).search(dt)>-1).forEach(([i,a])=>{let r;try{r=a(t)}catch(u){r={pass:!1,message:u.message}}let d=document.createElement("div");d.style.fontFamily="monospace",d.style.fontSize="14px",d.style.color=r.pass?"green":"red",d.innerText=r.pass?"\u2714":"\u2718",d.className=r.pass?"pass":"fail";let c=document.createElement("div");c.innerText=n,c.style.color=r.pass?"green":"red";let p=document.createElement("div");p.innerText=i,p.style.color=r.pass?"green":"red";let l=document.createElement("div");l.innerText=r.message||"",l.style.color=r.pass?"green":"red",s.append(d,c,p,l)})})}var B=new Map,ut=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let s of t.addedNodes)if(s instanceof Element)for(let[n,[o,i]]of B.entries()){let a=s.querySelectorAll(n);for(let r of a)w(r,o,i)}}})});ut.observe(document,{attributes:!0,childList:!0,subtree:!0});function mt(e,t=!0,s){return(...n)=>{t&&B.set(e,[n,s]);let o=document.querySelectorAll(e);for(let i of o)w(i,n,s)}}function pt(e,t){return(...s)=>w(e,s,t)}function Tt(e,t){return(...s)=>{let n="http://www.w3.org/1999/xhtml",o=document.createElementNS(n,e);return w(o,s,t)}}function w(e,t=[],s={}){t.forEach(([o,...i])=>s[o](e,...i));function n(...o){return o.forEach(i=>e.append(i)),e}return n}function b(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>pt(n,e):s==="$el"?(n,o)=>mt(n,o,e):Tt(s,e)})}function L(e){let{event:t=null,eventElement:s=window,hideOnFalse:n=!0,invokeImmediately:o=!0,mediaMinWidth:i=0,mediaMaxWidth:a=1/0,state:r=void 0}=e??{};return(...d)=>{let[c,p,l,u]=d,m=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=a))return;let f=r&&typeof l=="function"?l(r.get()):l,T=String(f)==="true"||String(f)==="false",S=typeof u=="function"?u(r?r.get():void 0):u??!0;if(T&&n&&String(f)==="false"||T&&S===!1)return c.removeAttribute(p);S!==!1&&c.setAttribute(p,String(f))};r&&r.sub(m),t&&(c??s).addEventListener(t,m),window.addEventListener("resize",m),o&&m()}}function A(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:o=0,mediaMaxWidth:i=1/0,state:a=null}=e??{};return(...r)=>{let[d,c,p]=r,l=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=i))return;let m=typeof c=="function"?c(a?a.get():void 0):c;(typeof p=="function"?p(a?a.get():void 0):p??!0)&&d.setAttribute("class",m)};a&&a.sub(l),t&&(d??s).addEventListener(t,l),window.addEventListener("resize",l),n&&l()}}var N=e=>(t,s,n)=>{(typeof n=="function"?n():n??!0)&&t.addEventListener(e,s)};function P(e){let{state:t}=e??{};return(...s)=>{let[n,o,i]=s,a=()=>{n.innerHTML="";let r=t?o(t.get()):o();(typeof i=="function"?i(t?t.get():void 0):i??!0)&&(n.innerHTML="",Array.isArray(r)?r.forEach(c=>{c instanceof HTMLElement?n.appendChild(c):n.appendChild(document.createTextNode(String(c)))}):r instanceof HTMLElement?n.appendChild(r):n.innerHTML=String(r))};t&&t.sub(a),a()}}function E(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:o=0,mediaMaxWidth:i=1/0,state:a=void 0}=e??{};return(...r)=>{let[d,c,p,l]=r,u=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=i))return;let g=String(typeof p=="function"?p(a?a.get():void 0):p);(typeof l=="function"?l(a?a.get():void 0):l??!0)&&(c.startsWith("--")?d.style.setProperty(c,g):d.style[c]=g)};a&&a.sub(u),window.addEventListener("resize",u),t&&(d??s).addEventListener(t,u),n&&!t&&u()}}function h(e){let{event:t,eventElement:s,state:n}=e??{};return(...o)=>{let[i,a,r]=o,d=()=>{let c=typeof a=="function"?a(n?n.get():void 0):a;(typeof r=="function"?r(n?n.get():void 0):r??!0)&&(i.textContent=String(c))};n&&n.sub(d),window.addEventListener("resize",d),t&&(i??s).addEventListener(t,d),d()}}var V=()=>{let{el:e,$el:t}=b({style:E()}),s=document.createElement("div"),o=e(s)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',i=document.createElement("div");i.id="test",document.body.appendChild(i),t("#test")(["style","color","red"]);let a=i.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:o&&a}},O=()=>{let e=M({disabled:!1}),{div:t}=b({staticAttr:L(),dynamicAttr:L({state:e})}),n=t(["staticAttr","id","test"])().outerHTML==='<div id="test"></div>',i=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",r=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',c=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let l=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let m=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let S=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return{pass:n&&i&&r&&c&&l&&m&&f&&S}},D=()=>{let e=M({disabled:!1}),{div:t}=b({staticAttr:L(),dynamicAttr:L({state:e})}),n=t(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',i=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",r=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',c=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let l=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let m=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let S=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return{pass:n&&i&&r&&c&&l&&m&&f&&S}},q=()=>{let e=M({className:"item--modifier-1"}),{div:t}=b({staticClassName:A(),dynamicClassName:A({state:e})}),n=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',i=t(["staticClassName","test",!1])().outerHTML==="<div></div>",r=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",c=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',p=t(["dynamicClassName",x=>x.className])(),l=p.outerHTML==='<div class="item--modifier-1"></div>';e.set({className:"item--modifier-2"});let u=p.outerHTML==='<div class="item--modifier-2"></div>',g=t(["dynamicClassName",x=>x.className,!1])().outerHTML==="<div></div>",T=t(["dynamicClassName",x=>x.className,()=>!1])().outerHTML==="<div></div>",y=t(["dynamicClassName",x=>x.className,()=>!0])().outerHTML==='<div class="item--modifier-2"></div>';e.set({className:"item--modifier-3"});let H=t(["dynamicClassName",x=>x.className,x=>x.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:n&&i&&r&&c&&l&&u&&g&&T&&y&&H}},F=()=>{let{div:e}=b({click:N("click")}),t=!1;return e(["click",()=>t=!0])().click(),{pass:t}},I=()=>{let e=M({value:"asdf"}),{div:t}=b({staticHtml:P(),dynamicHtml:P({state:e})}),n=t(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",i=t(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",r=t(["staticHtml",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",c=t(["staticHtml",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",l=t(["dynamicHtml",H=>H.value])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let m=t(["dynamicHtml",H=>H.value,!1])().outerHTML==="<div></div>",f=t(["dynamicHtml",H=>H.value,()=>!1])().outerHTML==="<div></div>",S=t(["dynamicHtml",H=>H.value,()=>!0])().outerHTML==="<div>c1</div>";e.set({value:"c2"});let W=t(["dynamicHtml",H=>H.value,H=>H.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:n&&i&&r&&c&&l&&m&&f&&S&&W}},$=()=>{let e=M({value:"asdf"}),{div:t}=b({staticText:h(),dynamicText:h({state:e})}),n=t(["staticText","test"])().outerHTML==="<div>test</div>",i=t(["staticText",()=>"test"])().outerHTML==="<div>test</div>",r=t(["dynamicText",T=>T.value])().outerHTML==="<div>asdf</div>",c=t(["dynamicText",T=>T.value,!1])().outerHTML==="<div></div>",l=t(["dynamicText",T=>T.value,()=>!1])().outerHTML==="<div></div>",m=t(["dynamicText",T=>T.value,()=>!0])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let f=t(["dynamicText",T=>T.value,T=>T.value==="c1"])().outerHTML==="<div>c1</div>";return{pass:n&&i&&r&&c&&l&&m&&f}},j=()=>{let e=M({fontSize:"13px"}),{div:t}=b({staticStyle:E(),dynamicStyle:E({state:e})}),n=t(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',o=t(["dynamicStyle","fontSize",m=>m.fontSize])(),i=o.outerHTML==='<div style="font-size: 13px;"></div>';e.set({fontSize:"14px"});let a=o.outerHTML==='<div style="font-size: 14px;"></div>';e.set({fontSize:"15px"});let d=t(["dynamicStyle","fontSize",m=>m.fontSize,()=>!1])().outerHTML==="<div></div>",p=t(["dynamicStyle","fontSize",m=>m.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',u=t(["dynamicStyle","fontSize",m=>m.fontSize,m=>m.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:n&&i&&a&&d&&p&&u}},J=()=>{let{div:e}=b({style:E()});return{pass:e(["style","--test-var","testing"])().outerHTML==='<div style="--test-var: testing;"></div>'}},K=()=>{let{div:e}=b({attr:L(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},Q=()=>{let{div:e}=b();return{pass:e()("test").outerHTML==="<div>test</div>"}};var X=()=>{let{div:e}=b({attr:L()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function Y(e,t=[],s={}){t.forEach(([o,...i])=>s[o](e,...i));function n(...o){return o.forEach(i=>e.append(i)),e}return n}function C(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>(...o)=>Y(n,o,e):(...n)=>{let o="http://www.w3.org/2000/svg",i=document.createElementNS(o,s);return Y(i,n,e)}})}var Z=()=>{let{el:e}=C({style:E()}),t=document.createElement("circle");return{pass:e(t)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},tt=()=>{let{circle:e}=C({attr:L()});return{pass:e(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},et=()=>{let{circle:e}=C({className:A()});return{pass:e(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},nt=()=>{let{circle:e}=C({click:N("click")}),t=!1;var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return e(["click",()=>t=!0])().dispatchEvent(s),{pass:t}},st=()=>{let{circle:e}=C({text:h()});return{pass:e(["text","test"])().outerHTML==="<circle>test</circle>"}};var ot=()=>{let{circle:e}=C({style:E()});return{pass:e(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},it=()=>{let{circle:e}=C({attr:L(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},rt=()=>{let{circle:e}=C();return{pass:e()("test").outerHTML==="<circle>test</circle>"}};var at=()=>{let{circle:e}=C({attr:L()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};window.addEventListener("DOMContentLoaded",()=>{R([["HTML",["can apply inner html trait",I],["can apply attribute trait",O],["can remove attribute trait",D],["can apply class name trait",q],["can apply event listener trait",F],["can apply inner html trait",I],["can apply inner text trait",$],["can apply style trait",j],["can apply css var with style trait",J],["can apply multiple traits",K],["can create basic tag with text",Q],["has valid namespace",X],["can adopt existing element",V]],["SVG",["can apply attribute trait",tt],["can apply class name trait",et],["can apply event listener trait",nt],["can apply inner text trait",st],["can apply style trait",ot],["can apply multiple traits",it],["can create basic tag with text",rt],["has valid namespace",at],["can adopt existing element",Z]],["State",["can create state",_],["can update state",z],["can subscribe to state",k],["can unsubscribe to state",U],["can reset state",k]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>