<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var H=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function L(e,t){let s=e;if(t){let r=t.storage.getItem(t.key),d=JSON.parse(r),u=d!=null;(t.overwrite??!0)&&u&&(e=d),!(t.overwrite??!0)&&u&&(Array.isArray(e)&&Array.isArray(d)?e=[...e,...d]:typeof e=="object"&&typeof d=="object"&&(e={...e,...d}))}let n=e,i=[],a=()=>n,c=r=>()=>m(r(n)),o=()=>m(s),m=r=>{n=r,i.forEach(d=>d(n)),t&&t.storage.setItem(t.key,JSON.stringify(n))};return{get:a,reset:o,reduce:c,set:m,sub:r=>i.push(r),unsub:r=>i.splice(i.indexOf(r),1)}}var _=()=>({pass:L(1).get()===1}),U=()=>{let e=L(1);return e.set(2),{pass:e.get()===2}},P=()=>{let e=L(1),t=!1;return e.sub(()=>t=!0),e.set(2),{pass:t}},z=()=>{let e=L(1),t=!1,s=()=>t=!t;return e.sub(s),e.set(2),e.unsub(s),e.set(3),{pass:t}};var G=H.slice(2).map(e=>e.split("=")).reduce((e,[t,s])=>({...e,[t]:s}),{});var mt=G.FILTER;function R(e){let t=document.querySelector("#test-sandbox"),s=document.querySelector("#test-results");s.style.display="grid",s.style.columnGap="10px",s.style.rowGap="2px",s.style.gridTemplateColumns="auto auto auto 1fr",e.forEach(([n,...i])=>{i.filter(a=>(n+a[0].split(" ").join("")).search(mt)>-1).forEach(([a,c])=>{let o;try{o=c(t)}catch(d){o={pass:!1,message:d.message}}let m=document.createElement("div");m.style.fontFamily="monospace",m.style.fontSize="14px",m.style.color=o.pass?"green":"red",m.innerText=o.pass?"\u2714":"\u2718",m.className=o.pass?"pass":"fail";let l=document.createElement("div");l.innerText=n,l.style.color=o.pass?"green":"red";let p=document.createElement("div");p.innerText=a,p.style.color=o.pass?"green":"red";let r=document.createElement("div");r.innerText=o.message||"",r.style.color=o.pass?"green":"red",s.append(m,l,p,r)})})}var B=new Map,ut=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let s of t.addedNodes)if(s instanceof Element)for(let[n,[i,a]]of B.entries()){let c=s.querySelectorAll(n);for(let o of c)w(o,i,a)}}})});ut.observe(document,{attributes:!0,childList:!0,subtree:!0});function pt(e,t=!0,s){return(...n)=>{t&&B.set(e,[n,s]);let i=document.querySelectorAll(e);for(let a of i)w(a,n,s)}}function Tt(e,t){return(...s)=>w(e,s,t)}function vt(e,t){return(...s)=>{let n="http://www.w3.org/1999/xhtml",i=document.createElementNS(n,e);return w(i,s,t)}}function w(e,t=[],s={}){t.forEach(([i,...a])=>s[i](e,...a));function n(...i){return i.forEach(a=>e.append(a)),e}return n}function b(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>Tt(n,e):s==="$el"?(n,i)=>pt(n,i,e):vt(s,e)})}function g(e){let{event:t=null,eventElement:s=window,hideOnFalse:n=!0,invokeImmediately:i=!0,mediaMinWidth:a=0,mediaMaxWidth:c=1/0,state:o=void 0}=e??{};return(...m)=>{let[l,p,r,d]=m,u=()=>{if(!(window.innerWidth>=a&&window.innerWidth<=c))return;let f=o&&typeof r=="function"?r(o.get()):r,v=String(f)==="true"||String(f)==="false",C=typeof d=="function"?d(o?o.get():void 0):d??!0;if(v&&n&&String(f)==="false"||v&&C===!1)return l.removeAttribute(p);C!==!1&&l.setAttribute(p,String(f))};o&&o.sub(u),t&&(l??s).addEventListener(t,u),window.addEventListener("resize",u),i&&u()}}function h(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:i=0,mediaMaxWidth:a=1/0,method:c="classList",state:o=null}=e??{};return(...m)=>{let[l,p,r]=m,d=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=a))return;let M=typeof p=="function"?p(o?o.get():void 0):p;(typeof r=="function"?r(o?o.get():void 0):r??!0)&&(c==="className"?l.setAttribute("class",M):l.classList.add(M))};o&&o.sub(d),t&&(l??s).addEventListener(t,d),window.addEventListener("resize",d),n&&d()}}var k=e=>(t,s,n)=>{(typeof n=="function"?n():n??!0)&&t.addEventListener(e,s)};function I(e){let{state:t}=e??{};return(...s)=>{let[n,i,a]=s,c=()=>{n.innerHTML="";let o=t?i(t.get()):i();(typeof a=="function"?a(t?t.get():void 0):a??!0)&&(n.innerHTML="",Array.isArray(o)?o.forEach(l=>{l instanceof HTMLElement?n.appendChild(l):n.appendChild(document.createTextNode(String(l)))}):o instanceof HTMLElement?n.appendChild(o):n.innerHTML=String(o))};t&&t.sub(c),c()}}function S(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:i=0,mediaMaxWidth:a=1/0,state:c=void 0}=e??{};return(...o)=>{let[m,l,p,r]=o,d=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=a))return;let M=String(typeof p=="function"?p(c?c.get():void 0):p);(typeof r=="function"?r(c?c.get():void 0):r??!0)&&(l.startsWith("--")?m.style.setProperty(l,M):m.style[l]=M)};c&&c.sub(d),window.addEventListener("resize",d),t&&(m??s).addEventListener(t,d),n&&!t&&d()}}function A(e){let{event:t,eventElement:s,state:n}=e??{};return(...i)=>{let[a,c,o]=i,m=()=>{let l=typeof c=="function"?c(n?n.get():void 0):c;(typeof o=="function"?o(n?n.get():void 0):o??!0)&&(a.textContent=String(l))};n&&n.sub(m),window.addEventListener("resize",m),t&&(a??s).addEventListener(t,m),m()}}var V=()=>{let{el:e,$el:t}=b({style:S()}),s=document.createElement("div"),i=e(s)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',a=document.createElement("div");a.id="test",document.body.appendChild(a),t("#test")(["style","color","red"]);let c=a.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:i&&c}},O=()=>{let e=L({disabled:!1}),{div:t}=b({staticAttr:g(),dynamicAttr:g({state:e})}),n=t(["staticAttr","id","test"])().outerHTML==='<div id="test"></div>',a=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",o=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',l=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let r=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let u=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let C=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return{pass:n&&a&&o&&l&&r&&u&&f&&C}},q=()=>{let e=L({disabled:!1}),{div:t}=b({staticAttr:g(),dynamicAttr:g({state:e})}),n=t(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',a=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",o=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',l=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let r=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let u=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let C=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return{pass:n&&a&&o&&l&&r&&u&&f&&C}},D=()=>{let e=L({className:"item--modifier-1"}),{div:t}=b({staticClassName:h(),dynamicClassName:h({state:e,method:"className"})}),n=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',a=t(["staticClassName","test",!1])().outerHTML==="<div></div>",o=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",l=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',p=t(["dynamicClassName",x=>x.className])(),r=p.outerHTML==='<div class="item--modifier-1"></div>';e.set({className:"item--modifier-2"});let d=p.outerHTML==='<div class="item--modifier-2"></div>',M=t(["dynamicClassName",x=>x.className,!1])().outerHTML==="<div></div>",v=t(["dynamicClassName",x=>x.className,()=>!1])().outerHTML==="<div></div>",y=t(["dynamicClassName",x=>x.className,()=>!0])().outerHTML==='<div class="item--modifier-2"></div>';e.set({className:"item--modifier-3"});let T=t(["dynamicClassName",x=>x.className,x=>x.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:n&&a&&o&&l&&r&&d&&M&&v&&y&&T}},F=()=>{let e=L({className:"item--modifier-1"}),{div:t}=b({staticClassName:h(),dynamicClassName:h({state:e})}),n=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',a=t(["staticClassName","test",!1])().outerHTML==="<div></div>",o=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",l=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',r=t(["dynamicClassName",T=>T.className])().outerHTML==='<div class="item--modifier-1"></div>',u=t(["dynamicClassName",T=>T.className,!1])().outerHTML==="<div></div>",f=t(["dynamicClassName",T=>T.className,()=>!1])().outerHTML==="<div></div>",v=t(["dynamicClassName",T=>T.className,()=>!0])();e.set({className:"item--modifier-3"});let C=v.outerHTML==='<div class="item--modifier-1 item--modifier-3"></div>',N=t(["dynamicClassName",T=>T.className,T=>T.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:n&&a&&o&&l&&r&&u&&f&&C&&N}},$=()=>{let{div:e}=b({click:k("click")}),t=!1;return e(["click",()=>t=!0])().click(),{pass:t}},W=()=>{let e=L({value:"asdf"}),{div:t}=b({staticHtml:I(),dynamicHtml:I({state:e})}),n=t(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",a=t(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",o=t(["staticHtml",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",l=t(["staticHtml",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",r=t(["dynamicHtml",T=>T.value])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let u=t(["dynamicHtml",T=>T.value,!1])().outerHTML==="<div></div>",f=t(["dynamicHtml",T=>T.value,()=>!1])().outerHTML==="<div></div>",C=t(["dynamicHtml",T=>T.value,()=>!0])().outerHTML==="<div>c1</div>";e.set({value:"c2"});let N=t(["dynamicHtml",T=>T.value,T=>T.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:n&&a&&o&&l&&r&&u&&f&&C&&N}},j=()=>{let e=L({value:"asdf"}),{div:t}=b({staticText:A(),dynamicText:A({state:e})}),n=t(["staticText","test"])().outerHTML==="<div>test</div>",a=t(["staticText",()=>"test"])().outerHTML==="<div>test</div>",o=t(["dynamicText",v=>v.value])().outerHTML==="<div>asdf</div>",l=t(["dynamicText",v=>v.value,!1])().outerHTML==="<div></div>",r=t(["dynamicText",v=>v.value,()=>!1])().outerHTML==="<div></div>",u=t(["dynamicText",v=>v.value,()=>!0])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let f=t(["dynamicText",v=>v.value,v=>v.value==="c1"])().outerHTML==="<div>c1</div>";return{pass:n&&a&&o&&l&&r&&u&&f}},J=()=>{let e=L({fontSize:"13px"}),{div:t}=b({staticStyle:S(),dynamicStyle:S({state:e})}),n=t(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',i=t(["dynamicStyle","fontSize",u=>u.fontSize])(),a=i.outerHTML==='<div style="font-size: 13px;"></div>';e.set({fontSize:"14px"});let c=i.outerHTML==='<div style="font-size: 14px;"></div>';e.set({fontSize:"15px"});let m=t(["dynamicStyle","fontSize",u=>u.fontSize,()=>!1])().outerHTML==="<div></div>",p=t(["dynamicStyle","fontSize",u=>u.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',d=t(["dynamicStyle","fontSize",u=>u.fontSize,u=>u.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:n&&a&&c&&m&&p&&d}},K=()=>{let{div:e}=b({style:S()});return{pass:e(["style","--test-var","testing"])().outerHTML==='<div style="--test-var: testing;"></div>'}},Q=()=>{let{div:e}=b({attr:g(),text:A()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},X=()=>{let{div:e}=b();return{pass:e()("test").outerHTML==="<div>test</div>"}};var Y=()=>{let{div:e}=b({attr:g()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function Z(e,t=[],s={}){t.forEach(([i,...a])=>s[i](e,...a));function n(...i){return i.forEach(a=>e.append(a)),e}return n}function E(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>(...i)=>Z(n,i,e):(...n)=>{let i="http://www.w3.org/2000/svg",a=document.createElementNS(i,s);return Z(a,n,e)}})}var tt=()=>{let{el:e}=E({style:S()}),t=document.createElement("circle");return{pass:e(t)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},et=()=>{let{circle:e}=E({attr:g()});return{pass:e(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},nt=()=>{let{circle:e}=E({className:h({method:"className"})});return{pass:e(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},st=()=>{let{circle:e}=E({click:k("click")}),t=!1;var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return e(["click",()=>t=!0])().dispatchEvent(s),{pass:t}},ot=()=>{let{circle:e}=E({text:A()});return{pass:e(["text","test"])().outerHTML==="<circle>test</circle>"}},at=()=>{let{circle:e}=E({style:S()});return{pass:e(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},it=()=>{let{circle:e}=E({attr:g(),text:A()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},rt=()=>{let{circle:e}=E();return{pass:e()("test").outerHTML==="<circle>test</circle>"}};var lt=()=>{let{circle:e}=E({attr:g()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};window.addEventListener("DOMContentLoaded",()=>{R([["HTML",["can apply inner html trait",W],["can apply attribute trait",O],["can remove attribute trait",q],["can apply class name trait",D],["can apply class list trait",F],["can apply event listener trait",$],["can apply inner html trait",W],["can apply inner text trait",j],["can apply style trait",J],["can apply css var with style trait",K],["can apply multiple traits",Q],["can create basic tag with text",X],["has valid namespace",Y],["can adopt existing element",V]],["SVG",["can apply attribute trait",et],["can apply class name trait",nt],["can apply event listener trait",st],["can apply inner text trait",ot],["can apply style trait",at],["can apply multiple traits",it],["can create basic tag with text",rt],["has valid namespace",lt],["can adopt existing element",tt]],["State",["can create state",_],["can update state",U],["can subscribe to state",P],["can unsubscribe to state",z],["can reset state",P]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>