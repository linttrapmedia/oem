<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var v=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function H(e,t){let n=e;if(t){let r=t.storage.getItem(t.key),u=JSON.parse(r),d=u!=null;(t.overwrite??!0)&&d&&(e=u),!(t.overwrite??!0)&&d&&(Array.isArray(e)&&Array.isArray(u)?e=[...e,...u]:typeof e=="object"&&typeof u=="object"&&(e={...e,...u}))}let s=e,o=[],i=()=>s,c=r=>()=>m(r(s)),a=()=>m(n),m=r=>{s=r,o.forEach(u=>u(s)),t&&t.storage.setItem(t.key,JSON.stringify(s))};return{get:i,reset:a,reduce:c,set:m,sub:r=>o.push(r),unsub:r=>o.splice(o.indexOf(r),1)}}var W=()=>({pass:H(1).get()===1}),z=()=>{let e=H(1);return e.set(2),{pass:e.get()===2}},k=()=>{let e=H(1),t=!1;return e.sub(()=>t=!0),e.set(2),{pass:t}},U=()=>{let e=H(1),t=!1,n=()=>t=!t;return e.sub(n),e.set(2),e.unsub(n),e.set(3),{pass:t}};var R=new Map,dt=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let n of t.addedNodes)if(n instanceof Element)for(let[s,[o,i]]of R.entries()){let c=n.querySelectorAll(s);for(let a of c)w(a,o,i)}}})});dt.observe(document,{attributes:!0,childList:!0,subtree:!0});function ut(e,t=!0,n){return(...s)=>{t&&R.set(e,[s,n]);let o=document.querySelectorAll(e);for(let i of o)w(i,s,n)}}function mt(e,t){return(...n)=>w(e,n,t)}function pt(e,t){return(...n)=>{let s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,e);return w(o,n,t)}}function w(e,t=[],n={}){t.forEach(([o,...i])=>n[o](e,...i));function s(...o){return o.forEach(i=>e.append(i)),e}return s}function M(e){return new Proxy({},{get:(t,n)=>n==="el"?s=>mt(s,e):n==="$el"?(s,o)=>ut(s,o,e):pt(n,e)})}function L(e){let{event:t=null,eventElement:n=window,hideOnFalse:s=!0,invokeImmediately:o=!0,mediaMinWidth:i=0,mediaMaxWidth:c=1/0,state:a=void 0}=e??{};return(...m)=>{let[l,p,r,u]=m,d=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=c))return;let f=a&&typeof r=="function"?r(a.get()):r,T=String(f)==="true"||String(f)==="false",S=typeof u=="function"?u(a?a.get():void 0):u??!0;if(T&&s&&String(f)==="false"||T&&S===!1)return l.removeAttribute(p);S!==!1&&l.setAttribute(p,String(f))};a&&a.sub(d),t&&(l??n).addEventListener(t,d),window.addEventListener("resize",d),o&&d()}}function A(e){let{event:t=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:o=0,mediaMaxWidth:i=1/0,state:c=null}=e??{};return(...a)=>{let[m,l,p]=a,r=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=i))return;let d=typeof l=="function"?l(c?c.get():void 0):l;(typeof p=="function"?p(c?c.get():void 0):p??!0)&&m.setAttribute("class",d)};c&&c.sub(r),t&&(m??n).addEventListener(t,r),window.addEventListener("resize",r),s&&r()}}var N=e=>(t,n,s)=>{(typeof s=="function"?s():s??!0)&&t.addEventListener(e,n)};function P(e){let{state:t}=e??{};return(...n)=>{let[s,o,i]=n,c=()=>{s.innerHTML="";let a=t?o(t.get()):o();(typeof i=="function"?i(t?t.get():void 0):i??!0)&&(s.innerHTML="",Array.isArray(a)?a.forEach(l=>{l instanceof HTMLElement?s.appendChild(l):s.appendChild(document.createTextNode(String(l)))}):a instanceof HTMLElement?s.appendChild(a):s.innerHTML=String(a))};t&&t.sub(c),c()}}function E(e){let{event:t=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:o=0,mediaMaxWidth:i=1/0,state:c=void 0}=e??{};return(...a)=>{let[m,l,p,r]=a,u=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=i))return;let C=String(typeof p=="function"?p(c?c.get():void 0):p);(typeof r=="function"?r(c?c.get():void 0):r??!0)&&(m.style[l]=C)};c&&c.sub(u),window.addEventListener("resize",u),t&&(m??n).addEventListener(t,u),s&&!t&&u()}}function h(e){let{state:t}=e??{};return(...n)=>{let[s,o,i]=n,c=()=>{let a=typeof o=="function"?o(t?t.get():void 0):o;(typeof i=="function"?i(t?t.get():void 0):i??!0)&&(s.textContent=String(a))};t&&t.sub(c),c()}}var B=()=>{let{el:e,$el:t}=M({style:E()}),n=document.createElement("div"),o=e(n)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',i=document.createElement("div");i.id="test",document.body.appendChild(i),t("#test")(["style","color","red"]);let c=i.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:o&&c}},G=()=>{let e=H({disabled:!1}),{div:t}=M({staticAttr:L(),dynamicAttr:L({state:e})}),s=t(["staticAttr","id","test"])().outerHTML==='<div id="test"></div>',i=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",a=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',l=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let r=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let d=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let S=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return console.log(s,i,a,l,r,d,f,S),{pass:s&&i&&a&&l&&r&&d&&f&&S}},V=()=>{let e=H({disabled:!1}),{div:t}=M({staticAttr:L(),dynamicAttr:L({state:e})}),s=t(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',i=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",a=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',l=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let r=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let d=t(["dynamicAttr","disabled",y=>y.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let S=t(["dynamicAttr","disabled","true",y=>y.disabled])().outerHTML==="<div></div>";return{pass:s&&i&&a&&l&&r&&d&&f&&S}},O=()=>{let e=H({className:"item--modifier-1"}),{div:t}=M({staticClassName:A(),dynamicClassName:A({state:e})}),s=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',i=t(["staticClassName","test",!1])().outerHTML==="<div></div>",a=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",l=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',p=t(["dynamicClassName",x=>x.className])(),r=p.outerHTML==='<div class="item--modifier-1"></div>';e.set({className:"item--modifier-2"});let u=p.outerHTML==='<div class="item--modifier-2"></div>',C=t(["dynamicClassName",x=>x.className,!1])().outerHTML==="<div></div>",T=t(["dynamicClassName",x=>x.className,()=>!1])().outerHTML==="<div></div>",y=t(["dynamicClassName",x=>x.className,()=>!0])().outerHTML==='<div class="item--modifier-2"></div>';e.set({className:"item--modifier-3"});let b=t(["dynamicClassName",x=>x.className,x=>x.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:s&&i&&a&&l&&r&&u&&C&&T&&y&&b}},D=()=>{let{div:e}=M({click:N("click")}),t=!1;return e(["click",()=>t=!0])().click(),{pass:t}},I=()=>{let e=H({value:"asdf"}),{div:t}=M({staticHtml:P(),dynamicHtml:P({state:e})}),s=t(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",i=t(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",a=t(["staticHtml",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",l=t(["staticHtml",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",r=t(["dynamicHtml",b=>b.value])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let d=t(["dynamicHtml",b=>b.value,!1])().outerHTML==="<div></div>",f=t(["dynamicHtml",b=>b.value,()=>!1])().outerHTML==="<div></div>",S=t(["dynamicHtml",b=>b.value,()=>!0])().outerHTML==="<div>c1</div>";e.set({value:"c2"});let _=t(["dynamicHtml",b=>b.value,b=>b.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:s&&i&&a&&l&&r&&d&&f&&S&&_}},q=()=>{let e=H({value:"asdf"}),{div:t}=M({staticText:h(),dynamicText:h({state:e})}),s=t(["staticText","test"])().outerHTML==="<div>test</div>",i=t(["staticText",()=>"test"])().outerHTML==="<div>test</div>",a=t(["dynamicText",T=>T.value])().outerHTML==="<div>asdf</div>",l=t(["dynamicText",T=>T.value,!1])().outerHTML==="<div></div>",r=t(["dynamicText",T=>T.value,()=>!1])().outerHTML==="<div></div>",d=t(["dynamicText",T=>T.value,()=>!0])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let f=t(["dynamicText",T=>T.value,T=>T.value==="c1"])().outerHTML==="<div>c1</div>";return{pass:s&&i&&a&&l&&r&&d&&f}},F=()=>{let e=H({fontSize:"13px"}),{div:t}=M({staticStyle:E(),dynamicStyle:E({state:e})}),s=t(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',o=t(["dynamicStyle","fontSize",d=>d.fontSize])(),i=o.outerHTML==='<div style="font-size: 13px;"></div>';e.set({fontSize:"14px"});let c=o.outerHTML==='<div style="font-size: 14px;"></div>';e.set({fontSize:"15px"});let m=t(["dynamicStyle","fontSize",d=>d.fontSize,()=>!1])().outerHTML==="<div></div>",p=t(["dynamicStyle","fontSize",d=>d.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',u=t(["dynamicStyle","fontSize",d=>d.fontSize,d=>d.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:s&&i&&c&&m&&p&&u}},j=()=>{let{div:e}=M({attr:L(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},J=()=>{let{div:e}=M();return{pass:e()("test").outerHTML==="<div>test</div>"}};var $=()=>{let{div:e}=M({attr:L()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function K(e,t=[],n={}){t.forEach(([o,...i])=>n[o](e,...i));function s(...o){return o.forEach(i=>e.append(i)),e}return s}function g(e){return new Proxy({},{get:(t,n)=>n==="el"?s=>(...o)=>K(s,o,e):(...s)=>{let o="http://www.w3.org/2000/svg",i=document.createElementNS(o,n);return K(i,s,e)}})}var Q=()=>{let{el:e}=g({style:E()}),t=document.createElement("circle");return{pass:e(t)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},X=()=>{let{circle:e}=g({attr:L()});return{pass:e(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},Y=()=>{let{circle:e}=g({className:A()});return{pass:e(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},Z=()=>{let{circle:e}=g({click:N("click")}),t=!1;var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return e(["click",()=>t=!0])().dispatchEvent(n),{pass:t}},tt=()=>{let{circle:e}=g({text:h()});return{pass:e(["text","test"])().outerHTML==="<circle>test</circle>"}},et=()=>{let{circle:e}=g({printStyle:E({mediaType:"print"})});return{pass:e(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},nt=()=>{let{circle:e}=g({style:E()});return{pass:e(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},st=()=>{let{circle:e}=g({attr:L(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},ot=()=>{let{circle:e}=g();return{pass:e()("test").outerHTML==="<circle>test</circle>"}};var it=()=>{let{circle:e}=g({attr:L()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};var at=v.slice(2).map(e=>e.split("=")).reduce((e,[t,n])=>({...e,[t]:n}),{});var vt=at.FILTER;function rt(e){let t=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",e.forEach(([s,...o])=>{o.filter(i=>(s+i[0].split(" ").join("")).search(vt)>-1).forEach(([i,c])=>{let a;try{a=c(t)}catch(u){a={pass:!1,message:u.message}}let m=document.createElement("div");m.style.fontFamily="monospace",m.style.fontSize="14px",m.style.color=a.pass?"green":"red",m.innerText=a.pass?"\u2714":"\u2718",m.className=a.pass?"pass":"fail";let l=document.createElement("div");l.innerText=s,l.style.color=a.pass?"green":"red";let p=document.createElement("div");p.innerText=i,p.style.color=a.pass?"green":"red";let r=document.createElement("div");r.innerText=a.message||"",r.style.color=a.pass?"green":"red",n.append(m,l,p,r)})})}window.addEventListener("DOMContentLoaded",()=>{rt([["HTML",["can apply inner html trait",I],["can apply attribute trait",G],["can remove attribute trait",V],["can apply class name trait",O],["can apply event listener trait",D],["can apply inner html trait",I],["can apply inner text trait",q],["can apply style trait",F],["can apply multiple traits",j],["can create basic tag with text",J],["has valid namespace",$],["can adopt existing element",B]],["SVG",["can apply attribute trait",X],["can apply class name trait",Y],["can apply event listener trait",Z],["can apply inner text trait",tt],["can apply print style trait",et],["can apply style trait",nt],["can apply multiple traits",st],["can create basic tag with text",ot],["has valid namespace",it],["can adopt existing element",Q]],["State",["can create state",W],["can update state",z],["can subscribe to state",k],["can unsubscribe to state",U],["can reset state",k]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>