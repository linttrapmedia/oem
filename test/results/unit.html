<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var u=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js"];var A=new Map,ot=new MutationObserver(t=>{t.forEach(e=>{if(e.addedNodes.length>0&&e.type==="childList"){for(let n of e.addedNodes)if(n instanceof Element)for(let[s,[r,a]]of A.entries()){let i=n.querySelectorAll(s);for(let o of i)S(o,r,a)}}})});ot.observe(document,{attributes:!0,childList:!0,subtree:!0});function it(t,e=!0,n){return(...s)=>{e&&A.set(t,[s,n]);let r=document.querySelectorAll(t);for(let a of r)S(a,s,n)}}function lt(t,e){return(...n)=>S(t,n,e)}function ct(t,e){return(...n)=>{let s="http://www.w3.org/1999/xhtml",r=document.createElementNS(s,t);return S(r,n,e)}}function S(t,e=[],n={}){e.forEach(([r,...a])=>n[r](t,...a));function s(...r){return r.forEach(a=>t.append(a)),t}return s}function d(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>lt(s,t):n==="$el"?(s,r)=>it(s,r,t):ct(n,t)})}var f=({event:t=null,eventElement:e=window,hideOnFalse:n=!0,invokeImmediately:s=!0,mediaMinWidth:r=0,mediaMaxWidth:a=1/0,state:i=null}={})=>(o,c,l,m)=>{let p=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=a))return;let y=String(typeof l=="function"?l():l);!(typeof m=="function"?m():m??!0)||(n&&y==="false"?o.removeAttribute(c):o.setAttribute(c,y))};i&&i.sub(p),t&&(o??e).addEventListener(t,p),window.addEventListener("resize",p),s&&p()};var C=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaMinWidth:s=0,mediaMaxWidth:r=1/0,state:a=null}={})=>(i,o,c)=>{let l=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=r))return;let p=String(typeof o=="function"?o():o);(typeof c=="function"?c():c??!0)&&i.setAttribute("class",p)};a&&a.sub(l),t&&(i??e).addEventListener(t,l),window.addEventListener("resize",l),n&&l()};var h=t=>(e,n,s)=>{(typeof s=="function"?s():s??!0)&&e.addEventListener(t,n)};var k=({state:t}={})=>(e,n,s)=>{let r=()=>{e.innerHTML="";let a=n();(typeof s=="function"?s():s??!0)&&(e.innerHTML="",Array.isArray(a)?a.forEach(i=>{i instanceof HTMLElement?e.appendChild(i):e.appendChild(document.createTextNode(String(i)))}):a instanceof HTMLElement?e.appendChild(a):e.innerHTML=String(a))};t&&t.sub(r),r()};var v=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaType:s="screen",mediaMinWidth:r=0,mediaMaxWidth:a=1/0,state:i=null}={})=>{let o=(Math.random()*1e8).toFixed(0),c="print-style-"+o,l=document.getElementById(c);l||(l=document.createElement("style"),l.id=c,l.setAttribute("type","text/css"),l.setAttribute("media","print"),s==="print"&&document.getElementsByTagName("head")[0].appendChild(l));let m=l.sheet;return(p,H,y,E)=>{s==="print"&&(p.dataset.printId=p.dataset.printId??(Math.random()*1e8).toFixed(0));let g=()=>{if(s==="print"){let M=H+"-"+p.dataset.printId,L=String(typeof y=="function"?y():y),rt=H.replace(/([A-Z])/g,"-$1").toLowerCase();m.insertRule(`.${M} { ${rt}:${L} !important; }`,0),p.classList.add(M)}else{if(!(window.innerWidth>=r&&window.innerWidth<=a))return;let L=String(typeof y=="function"?y():y);(typeof E=="function"?E():E??!0)&&(p.style[H]=L)}};i&&i.sub(g),window.addEventListener("resize",g),t&&(p??e).addEventListener(t,g),n&&!t&&g()}};var b=({state:t}={})=>(e,n,s)=>{let r=()=>{let a=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.textContent=a)};t&&t.sub(r),r()};var I=()=>{let{el:t,$el:e}=d({style:v()}),n=document.createElement("div"),r=t(n)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',a=document.createElement("div");a.id="test",document.body.appendChild(a),e("#test")(["style","color","red"]);let i=a.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:r&&i}},P=()=>{let{div:t}=d({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<div id="test"></div>'}},N=()=>{let{div:t}=d({attr:f()});return{pass:t(["attr","disabled","false"])().outerHTML==="<div></div>"}},_=()=>{let{div:t}=d({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<div class="n1 n2"></div>'}},W=()=>{let{div:t}=d({click:h("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},U=()=>{let{div:t}=d({html:k()}),n=t(["html",()=>"asdf"])().outerHTML==="<div>asdf</div>",r=t(["html",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",i=t(["html",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",c=t(["html",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>";return{pass:n&&r&&i&&c}},B=()=>{let{div:t}=d({text:b()});return{pass:t(["text","test"])().outerHTML==="<div>test</div>"}},G=()=>{let{div:t}=d({printStyle:v({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},R=()=>{let{div:t}=d({style:v()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>'}},z=()=>{let{div:t}=d({attr:f(),text:b()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},V=()=>{let{div:t}=d();return{pass:t()("test").outerHTML==="<div>test</div>"}};var $=()=>{let{div:t}=d({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function D(t,e=[],n={}){e.forEach(([r,...a])=>n[r](t,...a));function s(...r){return r.forEach(a=>t.append(a)),t}return s}function T(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>(...r)=>D(s,r,t):(...s)=>{let r="http://www.w3.org/2000/svg",a=document.createElementNS(r,n);return D(a,s,t)}})}var F=()=>{let{el:t}=T({style:v()}),e=document.createElement("circle");return{pass:t(e)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},O=()=>{let{circle:t}=T({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},q=()=>{let{circle:t}=T({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},j=()=>{let{circle:t}=T({click:h("click")}),e=!1;var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return t(["click",()=>e=!0])().dispatchEvent(n),{pass:e}},Z=()=>{let{circle:t}=T({text:b()});return{pass:t(["text","test"])().outerHTML==="<circle>test</circle>"}},J=()=>{let{circle:t}=T({printStyle:v({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},K=()=>{let{circle:t}=T({style:v()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},Q=()=>{let{circle:t}=T({attr:f(),text:b()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},X=()=>{let{circle:t}=T();return{pass:t()("test").outerHTML==="<circle>test</circle>"}};var Y=()=>{let{circle:t}=T({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};function x(t){let e=t,n=t,s=[],r=()=>n,a=m=>()=>o(m(n)),i=()=>o(e),o=m=>(n=m,s.forEach(p=>p(n)));return{get:r,reset:i,reduce:a,set:o,sub:m=>s.push(m),unsub:m=>s.splice(s.indexOf(m),1)}}var tt=()=>({pass:x(1).get()===1}),et=()=>{let t=x(1);return t.set(2),{pass:t.get()===2}},w=()=>{let t=x(1),e=!1;return t.sub(()=>e=!0),t.set(2),{pass:e}},nt=()=>{let t=x(1),e=!1,n=()=>e=!e;return t.sub(n),t.set(2),t.unsub(n),t.set(3),{pass:e}};var dt=u.slice(2).join("");function st(t){let e=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",t.forEach(([s,...r])=>{r.filter(a=>(s+a[0].split(" ").join("")).search(dt)>-1).forEach(([a,i])=>{let o;try{o=i(e)}catch(H){o={pass:!1,message:H.message}}let c=document.createElement("div");c.style.fontFamily="monospace",c.style.fontSize="14px",c.style.color=o.pass?"green":"red",c.innerText=o.pass?"\u2714":"\u2718",c.className=o.pass?"pass":"fail";let l=document.createElement("div");l.innerText=s,l.style.color=o.pass?"green":"red";let m=document.createElement("div");m.innerText=a,m.style.color=o.pass?"green":"red";let p=document.createElement("div");p.innerText=o.message||"",p.style.color=o.pass?"green":"red",n.append(c,l,m,p)})})}window.addEventListener("DOMContentLoaded",()=>{st([["HTML",["can apply attribute trait",P],["can remove attribute trait",N],["can apply class name trait",_],["can apply event listener trait",W],["can apply inner html trait",U],["can apply inner text trait",B],["can apply print style trait",G],["can apply style trait",R],["can apply multiple traits",z],["can create basic tag with text",V],["has valid namespace",$],["can adopt existing element",I]],["SVG",["can apply attribute trait",O],["can apply class name trait",q],["can apply event listener trait",j],["can apply inner text trait",Z],["can apply print style trait",J],["can apply style trait",K],["can apply multiple traits",Q],["can create basic tag with text",X],["has valid namespace",Y],["can adopt existing element",F]],["State",["can create state",tt],["can update state",et],["can subscribe to state",w],["can unsubscribe to state",nt],["can reset state",w]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>