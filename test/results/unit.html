<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var y=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function M(e){let t=e,n=e,s=[],i=()=>n,o=l=>()=>r(l(n)),a=()=>r(t),r=l=>(n=l,s.forEach(d=>d(n)));return{get:i,reset:a,reduce:o,set:r,sub:l=>s.push(l),unsub:l=>s.splice(s.indexOf(l),1)}}var W=new Map,ct=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let n of t.addedNodes)if(n instanceof Element)for(let[s,[i,o]]of W.entries()){let a=n.querySelectorAll(s);for(let r of a)w(r,i,o)}}})});ct.observe(document,{attributes:!0,childList:!0,subtree:!0});function dt(e,t=!0,n){return(...s)=>{t&&W.set(e,[s,n]);let i=document.querySelectorAll(e);for(let o of i)w(o,s,n)}}function pt(e,t){return(...n)=>w(e,n,t)}function mt(e,t){return(...n)=>{let s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,e);return w(i,n,t)}}function w(e,t=[],n={}){t.forEach(([i,...o])=>n[i](e,...o));function s(...i){return i.forEach(o=>e.append(o)),e}return s}function b(e){return new Proxy({},{get:(t,n)=>n==="el"?s=>pt(s,e):n==="$el"?(s,i)=>dt(s,i,e):mt(n,e)})}function x(e){let{event:t=null,eventElement:n=window,hideOnFalse:s=!0,invokeImmediately:i=!0,mediaMinWidth:o=0,mediaMaxWidth:a=1/0,state:r=void 0}=e??{};return(...m)=>{let[c,l,d,u]=m,p=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=a))return;let v=r&&typeof d=="function"?d(r.get()):d,E=String(v)==="true"||String(v)==="false",C=typeof u=="function"?u(r?r.get():void 0):u??!0;if(E&&s&&String(v)==="false"||E&&C===!1)return c.removeAttribute(l);C!==!1&&c.setAttribute(l,String(v))};r&&r.sub(p),t&&(c??n).addEventListener(t,p),window.addEventListener("resize",p),i&&p()}}function A(e){let{event:t=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:i=0,mediaMaxWidth:o=1/0,state:a=null}=e??{};return(...r)=>{let[m,c,l]=r,d=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=o))return;let p=typeof c=="function"?c(a?a.get():void 0):c;(typeof l=="function"?l(a?a.get():void 0):l??!0)&&m.setAttribute("class",p)};a&&a.sub(d),t&&(m??n).addEventListener(t,d),window.addEventListener("resize",d),s&&d()}}var N=e=>(t,n,s)=>{(typeof s=="function"?s():s??!0)&&t.addEventListener(e,n)};function k(e){let{state:t}=e??{};return(...n)=>{let[s,i,o]=n,a=()=>{s.innerHTML="";let r=t?i(t.get()):i();(typeof o=="function"?o(t?t.get():void 0):o??!0)&&(s.innerHTML="",Array.isArray(r)?r.forEach(c=>{c instanceof HTMLElement?s.appendChild(c):s.appendChild(document.createTextNode(String(c)))}):r instanceof HTMLElement?s.appendChild(r):s.innerHTML=String(r))};t&&t.sub(a),a()}}function S(e){let{event:t=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:i=0,mediaMaxWidth:o=1/0,state:a=void 0}=e??{};return(...r)=>{let[m,c,l,d]=r,u=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=o))return;let g=String(typeof l=="function"?l(a?a.get():void 0):l);(typeof d=="function"?d(a?a.get():void 0):d??!0)&&(m.style[c]=g)};a&&a.sub(u),window.addEventListener("resize",u),t&&(m??n).addEventListener(t,u),s&&!t&&u()}}function h(e){let{state:t}=e??{};return(...n)=>{let[s,i,o]=n,a=()=>{s.innerHTML="";let r=typeof i=="function"?i(t?t.get():void 0):i;(typeof o=="function"?o(t?t.get():void 0):o??!0)&&(s.textContent=String(r))};t&&t.sub(a),a()}}var z=()=>{let{el:e,$el:t}=b({style:S()}),n=document.createElement("div"),i=e(n)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',o=document.createElement("div");o.id="test",document.body.appendChild(o),t("#test")(["style","color","red"]);let a=o.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:i&&a}},U=()=>{let e=M({disabled:!1}),{div:t}=b({staticAttr:x(),dynamicAttr:x({state:e})}),s=t(["staticAttr","id","test"])().outerHTML==='<div id="test"></div>',o=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",r=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',c=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let d=t(["dynamicAttr","disabled",T=>T.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let p=t(["dynamicAttr","disabled",T=>T.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let v=t(["dynamicAttr","disabled","true",T=>T.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let C=t(["dynamicAttr","disabled","true",T=>T.disabled])().outerHTML==="<div></div>";return console.log(s,o,r,c,d,p,v,C),{pass:s&&o&&r&&c&&d&&p&&v&&C}},R=()=>{let e=M({disabled:!1}),{div:t}=b({staticAttr:x(),dynamicAttr:x({state:e})}),s=t(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',o=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",r=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',c=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let d=t(["dynamicAttr","disabled",T=>T.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let p=t(["dynamicAttr","disabled",T=>T.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let v=t(["dynamicAttr","disabled","true",T=>T.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let C=t(["dynamicAttr","disabled","true",T=>T.disabled])().outerHTML==="<div></div>";return{pass:s&&o&&r&&c&&d&&p&&v&&C}},B=()=>{let e=M({className:"item--modifier-1"}),{div:t}=b({staticClassName:A(),dynamicClassName:A({state:e})}),s=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',o=t(["staticClassName","test",!1])().outerHTML==="<div></div>",r=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",c=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',l=t(["dynamicClassName",H=>H.className])(),d=l.outerHTML==='<div class="item--modifier-1"></div>';e.set({className:"item--modifier-2"});let u=l.outerHTML==='<div class="item--modifier-2"></div>',g=t(["dynamicClassName",H=>H.className,!1])().outerHTML==="<div></div>",E=t(["dynamicClassName",H=>H.className,()=>!1])().outerHTML==="<div></div>",T=t(["dynamicClassName",H=>H.className,()=>!0])().outerHTML==='<div class="item--modifier-2"></div>';e.set({className:"item--modifier-3"});let f=t(["dynamicClassName",H=>H.className,H=>H.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:s&&o&&r&&c&&d&&u&&g&&E&&T&&f}},G=()=>{let{div:e}=b({click:N("click")}),t=!1;return e(["click",()=>t=!0])().click(),{pass:t}},I=()=>{let e=M({value:"asdf"}),{div:t}=b({staticHtml:k(),dynamicHtml:k({state:e})}),s=t(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",o=t(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",r=t(["staticHtml",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",c=t(["staticHtml",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",d=t(["dynamicHtml",f=>f.value])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let p=t(["dynamicHtml",f=>f.value,!1])().outerHTML==="<div></div>",v=t(["dynamicHtml",f=>f.value,()=>!1])().outerHTML==="<div></div>",C=t(["dynamicHtml",f=>f.value,()=>!0])().outerHTML==="<div>c1</div>";e.set({value:"c2"});let _=t(["dynamicHtml",f=>f.value,f=>f.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:s&&o&&r&&c&&d&&p&&v&&C&&_}},V=()=>{let{div:e}=b({text:h()});return{pass:e(["text","test"])().outerHTML==="<div>test</div>"}},O=()=>{let e=M({fontSize:"13px"}),{div:t}=b({staticStyle:S(),dynamicStyle:S({state:e})}),s=t(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',i=t(["dynamicStyle","fontSize",p=>p.fontSize])(),o=i.outerHTML==='<div style="font-size: 13px;"></div>';e.set({fontSize:"14px"});let a=i.outerHTML==='<div style="font-size: 14px;"></div>';e.set({fontSize:"15px"});let m=t(["dynamicStyle","fontSize",p=>p.fontSize,()=>!1])().outerHTML==="<div></div>",l=t(["dynamicStyle","fontSize",p=>p.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',u=t(["dynamicStyle","fontSize",p=>p.fontSize,p=>p.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:s&&o&&a&&m&&l&&u}},D=()=>{let{div:e}=b({attr:x(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},q=()=>{let{div:e}=b();return{pass:e()("test").outerHTML==="<div>test</div>"}};var F=()=>{let{div:e}=b({attr:x()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function $(e,t=[],n={}){t.forEach(([i,...o])=>n[i](e,...o));function s(...i){return i.forEach(o=>e.append(o)),e}return s}function L(e){return new Proxy({},{get:(t,n)=>n==="el"?s=>(...i)=>$(s,i,e):(...s)=>{let i="http://www.w3.org/2000/svg",o=document.createElementNS(i,n);return $(o,s,e)}})}var j=()=>{let{el:e}=L({style:S()}),t=document.createElement("circle");return{pass:e(t)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},J=()=>{let{circle:e}=L({attr:x()});return{pass:e(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},K=()=>{let{circle:e}=L({className:A()});return{pass:e(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},Q=()=>{let{circle:e}=L({click:N("click")}),t=!1;var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return e(["click",()=>t=!0])().dispatchEvent(n),{pass:t}},X=()=>{let{circle:e}=L({text:h()});return{pass:e(["text","test"])().outerHTML==="<circle>test</circle>"}},Y=()=>{let{circle:e}=L({printStyle:S({mediaType:"print"})});return{pass:e(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},Z=()=>{let{circle:e}=L({style:S()});return{pass:e(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},tt=()=>{let{circle:e}=L({attr:x(),text:h()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},et=()=>{let{circle:e}=L();return{pass:e()("test").outerHTML==="<circle>test</circle>"}};var nt=()=>{let{circle:e}=L({attr:x()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};var st=()=>({pass:M(1).get()===1}),ot=()=>{let e=M(1);return e.set(2),{pass:e.get()===2}},P=()=>{let e=M(1),t=!1;return e.sub(()=>t=!0),e.set(2),{pass:t}},it=()=>{let e=M(1),t=!1,n=()=>t=!t;return e.sub(n),e.set(2),e.unsub(n),e.set(3),{pass:t}};var rt=y.slice(2).map(e=>e.split("=")).reduce((e,[t,n])=>({...e,[t]:n}),{});var vt=rt.FILTER;function at(e){let t=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",e.forEach(([s,...i])=>{i.filter(o=>(s+o[0].split(" ").join("")).search(vt)>-1).forEach(([o,a])=>{let r;try{r=a(t)}catch(u){r={pass:!1,message:u.message}}let m=document.createElement("div");m.style.fontFamily="monospace",m.style.fontSize="14px",m.style.color=r.pass?"green":"red",m.innerText=r.pass?"\u2714":"\u2718",m.className=r.pass?"pass":"fail";let c=document.createElement("div");c.innerText=s,c.style.color=r.pass?"green":"red";let l=document.createElement("div");l.innerText=o,l.style.color=r.pass?"green":"red";let d=document.createElement("div");d.innerText=r.message||"",d.style.color=r.pass?"green":"red",n.append(m,c,l,d)})})}window.addEventListener("DOMContentLoaded",()=>{at([["HTML",["can apply inner html trait",I],["can apply attribute trait",U],["can remove attribute trait",R],["can apply class name trait",B],["can apply event listener trait",G],["can apply inner html trait",I],["can apply inner text trait",V],["can apply style trait",O],["can apply multiple traits",D],["can create basic tag with text",q],["has valid namespace",F],["can adopt existing element",z]],["SVG",["can apply attribute trait",J],["can apply class name trait",K],["can apply event listener trait",Q],["can apply inner text trait",X],["can apply print style trait",Y],["can apply style trait",Z],["can apply multiple traits",tt],["can create basic tag with text",et],["has valid namespace",nt],["can adopt existing element",j]],["State",["can create state",st],["can update state",ot],["can subscribe to state",P],["can unsubscribe to state",it],["can reset state",P]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>