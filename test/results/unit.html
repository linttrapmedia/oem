<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var b=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function ut(e,t,s){let n=t.split("."),i=(o,d,a)=>{let[l,...r]=d;return r.length===0?Array.isArray(o)?[...o.slice(0,l),a,...o.slice(l+1)]:{...o,[l]:a}:(o[l]===void 0&&(o[l]=typeof r[0]=="number"?[]:{}),{...o,[l]:i(o[l],r,a)})};return i(e,n,s)}function M(e,t){let s=e;if(t){let c=t.storage.getItem(t.key),T=JSON.parse(c),f=T!=null;(t.overwrite??!0)&&f&&(e=T),!(t.overwrite??!0)&&f&&(Array.isArray(e)&&Array.isArray(T)?e=[...e,...T]:typeof e=="object"&&typeof T=="object"&&(e={...e,...T}))}let n=e,i=[],o=()=>n,d=()=>i.forEach(c=>c(n)),a=c=>()=>r(c(n)),l=()=>r(s),r=c=>{n=c,i.forEach(T=>T(n)),t&&t.storage.setItem(t.key,JSON.stringify(n))};return{deepSet:(c,T)=>r(ut(n,c,T)),get:o,pub:d,reset:l,reduce:a,set:r,sub:c=>i.push(c),unsub:c=>i.splice(i.indexOf(c),1)}}var W=()=>({pass:M(1).get()===1}),U=()=>{let e=M(1);return e.set(2),{pass:e.get()===2}},P=()=>{let e=M(1),t=!1;return e.sub(()=>t=!0),e.set(2),{pass:t}},z=()=>{let e=M(1),t=!1,s=()=>t=!t;return e.sub(s),e.set(2),e.unsub(s),e.set(3),{pass:t}};var G=()=>{let e=M({val:1}),t=!1;return e.sub(()=>t=!0),e.get().val=2,e.pub(),{pass:t&&e.get().val===2}},R=()=>{let e=M({parent:{child:{grandchild:1}}});e.deepSet("parent.child.grandchild",2);let t=e.get().parent.child.grandchild===2,s=M([1,2,3]);s.deepSet("0",2);let n=s.get()[0]===2;return{pass:t&&n}};var B=b.slice(2).map(e=>e.split("=")).reduce((e,[t,s])=>({...e,[t]:s}),{});var Tt=B.FILTER;function V(e){let t=document.querySelector("#test-sandbox"),s=document.querySelector("#test-results");s.style.display="grid",s.style.columnGap="10px",s.style.rowGap="2px",s.style.gridTemplateColumns="auto auto auto 1fr",e.forEach(([n,...i])=>{i.filter(o=>(n+o[0].split(" ").join("")).search(Tt)>-1).forEach(([o,d])=>{let a;try{a=d(t)}catch(p){a={pass:!1,message:p.message}}let l=document.createElement("div");l.style.fontFamily="monospace",l.style.fontSize="14px",l.style.color=a.pass?"green":"red",l.innerText=a.pass?"\u2714":"\u2718",l.className=a.pass?"pass":"fail";let r=document.createElement("div");r.innerText=n,r.style.color=a.pass?"green":"red";let u=document.createElement("div");u.innerText=o,u.style.color=a.pass?"green":"red";let m=document.createElement("div");m.innerText=a.message||"",m.style.color=a.pass?"green":"red",s.append(l,r,u,m)})})}var O=new Map,vt=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes.length>0&&t.type==="childList"){for(let s of t.addedNodes)if(s instanceof Element)for(let[n,[i,o]]of O.entries()){let d=s.querySelectorAll(n);for(let a of d)w(a,i,o)}}})});vt.observe(document,{attributes:!0,childList:!0,subtree:!0});function yt(e,t=!0,s){return(...n)=>{t&&O.set(e,[n,s]);let i=document.querySelectorAll(e);for(let o of i)w(o,n,s)}}function ft(e,t){return(...s)=>w(e,s,t)}function Ht(e,t){return(...s)=>{let n="http://www.w3.org/1999/xhtml",i=document.createElementNS(n,e);return w(i,s,t)}}function w(e,t=[],s={}){t.forEach(([i,...o])=>s[i](e,...o));function n(...i){return i.forEach(o=>e.append(o)),e}return n}function L(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>ft(n,e):s==="$el"?(n,i)=>yt(n,i,e):Ht(s,e)})}function x(e){let{event:t=null,eventElement:s=window,hideOnFalse:n=!0,invokeImmediately:i=!0,mediaMinWidth:o=0,mediaMaxWidth:d=1/0,state:a=void 0}=e??{};return(...l)=>{let[r,u,m,p]=l,c=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=d))return;let f=a&&typeof m=="function"?m(a.get()):m,y=String(f)==="true"||String(f)==="false",g=typeof p=="function"?p(a?a.get():void 0):p??!0;if(y&&n&&String(f)==="false"||y&&g===!1)return r.removeAttribute(u);g!==!1&&r.setAttribute(u,String(f))};a&&a.sub(c),t&&(r??s).addEventListener(t,c),window.addEventListener("resize",c),i&&c()}}function E(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:i=0,mediaMaxWidth:o=1/0,method:d="classList",state:a=null}=e??{};return(...l)=>{let[r,u,m]=l,p=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=o))return;let T=typeof u=="function"?u(a?a.get():void 0):u;(typeof m=="function"?m(a?a.get():void 0):m??!0)&&(d==="className"?r.setAttribute("class",T):r.classList.add(T))};a&&a.sub(p),t&&(r??s).addEventListener(t,p),window.addEventListener("resize",p),n&&p()}}var k=e=>(t,s,n)=>{(typeof n=="function"?n():n??!0)&&t.addEventListener(e,s)};function I(e){let{state:t}=e??{};return(...s)=>{let[n,i,o]=s,d=()=>{let a=t?i(t.get()):i();(typeof o=="function"?o(t?t.get():void 0):o??!0)&&(n.innerHTML="",Array.isArray(a)?a.forEach(r=>{r instanceof HTMLElement?n.appendChild(r):n.appendChild(document.createTextNode(String(r)))}):a instanceof HTMLElement?n.appendChild(a):n.innerHTML=String(a))};t&&t.sub(d),d()}}function h(e){let{event:t=null,eventElement:s=window,invokeImmediately:n=!0,mediaMinWidth:i=0,mediaMaxWidth:o=1/0,state:d=void 0}=e??{};return(...a)=>{let[l,r,u,m]=a,p=()=>{if(!(window.innerWidth>=i&&window.innerWidth<=o))return;let T=String(typeof u=="function"?u(d?d.get():void 0):u);(typeof m=="function"?m(d?d.get():void 0):m??!0)&&(r.startsWith("--")?l.style.setProperty(r,T):l.style[r]=T)};d&&d.sub(p),window.addEventListener("resize",p),t&&(l??s).addEventListener(t,p),n&&!t&&p()}}function A(e){let{event:t,eventElement:s,state:n}=e??{};return(...i)=>{let[o,d,a]=i,l=()=>{let r=typeof d=="function"?d(n?n.get():void 0):d;(typeof a=="function"?a(n?n.get():void 0):a??!0)&&(o.textContent=String(r))};n&&n.sub(l),window.addEventListener("resize",l),t&&(o??s).addEventListener(t,l),l()}}var D=()=>{let{el:e,$el:t}=L({style:h()}),s=document.createElement("div"),i=e(s)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',o=document.createElement("div");o.id="test",document.body.appendChild(o),t("#test")(["style","color","red"]);let d=o.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:i&&d}},q=()=>{let e=M({disabled:!1}),{div:t}=L({staticAttr:x(),dynamicAttr:x({state:e})}),n=t(["staticAttr","id","test"])().outerHTML==='<div id="test"></div>',o=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",a=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',r=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let m=t(["dynamicAttr","disabled",H=>H.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let c=t(["dynamicAttr","disabled",H=>H.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",H=>H.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let g=t(["dynamicAttr","disabled","true",H=>H.disabled])().outerHTML==="<div></div>";return{pass:n&&o&&a&&r&&m&&c&&f&&g}},F=()=>{let e=M({disabled:!1}),{div:t}=L({staticAttr:x(),dynamicAttr:x({state:e})}),n=t(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',o=t(["staticAttr","disabled",!1])().outerHTML==="<div></div>",a=t(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',r=t(["staticAttr","disabled","false"])().outerHTML==="<div></div>";e.set({disabled:!0});let m=t(["dynamicAttr","disabled",H=>H.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let c=t(["dynamicAttr","disabled",H=>H.disabled])().outerHTML==="<div></div>";e.set({disabled:!0});let f=t(["dynamicAttr","disabled","true",H=>H.disabled])().outerHTML==='<div disabled="true"></div>';e.set({disabled:!1});let g=t(["dynamicAttr","disabled","true",H=>H.disabled])().outerHTML==="<div></div>";return{pass:n&&o&&a&&r&&m&&c&&f&&g}},$=()=>{let e=M({className:"item--modifier-1"}),{div:t}=L({staticClassName:E(),dynamicClassName:E({state:e,method:"className"})}),n=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',o=t(["staticClassName","test",!1])().outerHTML==="<div></div>",a=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",r=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',u=t(["dynamicClassName",C=>C.className])(),m=u.outerHTML==='<div class="item--modifier-1"></div>';e.set({className:"item--modifier-2"});let p=u.outerHTML==='<div class="item--modifier-2"></div>',T=t(["dynamicClassName",C=>C.className,!1])().outerHTML==="<div></div>",y=t(["dynamicClassName",C=>C.className,()=>!1])().outerHTML==="<div></div>",H=t(["dynamicClassName",C=>C.className,()=>!0])().outerHTML==='<div class="item--modifier-2"></div>';e.set({className:"item--modifier-3"});let v=t(["dynamicClassName",C=>C.className,C=>C.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:n&&o&&a&&r&&m&&p&&T&&y&&H&&v}},J=()=>{let e=M({className:"item--modifier-1"}),{div:t}=L({staticClassName:E(),dynamicClassName:E({state:e})}),n=t(["staticClassName","test"])().outerHTML==='<div class="test"></div>',o=t(["staticClassName","test",!1])().outerHTML==="<div></div>",a=t(["staticClassName","test",()=>!1])().outerHTML==="<div></div>",r=t(["staticClassName","test",()=>!0])().outerHTML==='<div class="test"></div>',m=t(["dynamicClassName",v=>v.className])().outerHTML==='<div class="item--modifier-1"></div>',c=t(["dynamicClassName",v=>v.className,!1])().outerHTML==="<div></div>",f=t(["dynamicClassName",v=>v.className,()=>!1])().outerHTML==="<div></div>",y=t(["dynamicClassName",v=>v.className,()=>!0])();e.set({className:"item--modifier-3"});let g=y.outerHTML==='<div class="item--modifier-1 item--modifier-3"></div>',N=t(["dynamicClassName",v=>v.className,v=>v.className==="item--modifier-3"])().outerHTML==='<div class="item--modifier-3"></div>';return{pass:n&&o&&a&&r&&m&&c&&f&&g&&N}},K=()=>{let{div:e}=L({click:k("click")}),t=!1;return e(["click",()=>t=!0])().click(),{pass:t}},_=()=>{let e=M({value:"asdf"}),{div:t}=L({staticHtml:I(),dynamicHtml:I({state:e})}),n=t(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",o=t(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",a=t(["staticHtml",()=>t()("one")])().outerHTML==="<div><div>one</div></div>",r=t(["staticHtml",()=>[t()("one"),t()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",m=t(["dynamicHtml",v=>v.value])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let c=t(["dynamicHtml",v=>v.value,!1])().outerHTML==="<div></div>",f=t(["dynamicHtml",v=>v.value,()=>!1])().outerHTML==="<div></div>",g=t(["dynamicHtml",v=>v.value,()=>!0])().outerHTML==="<div>c1</div>";e.set({value:"c2"});let N=t(["dynamicHtml",v=>v.value,v=>v.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:n&&o&&a&&r&&m&&c&&f&&g&&N}},Q=()=>{let e=M({value:"asdf"}),{div:t}=L({staticText:A(),dynamicText:A({state:e})}),n=t(["staticText","test"])().outerHTML==="<div>test</div>",o=t(["staticText",()=>"test"])().outerHTML==="<div>test</div>",a=t(["dynamicText",y=>y.value])().outerHTML==="<div>asdf</div>",r=t(["dynamicText",y=>y.value,!1])().outerHTML==="<div></div>",m=t(["dynamicText",y=>y.value,()=>!1])().outerHTML==="<div></div>",c=t(["dynamicText",y=>y.value,()=>!0])().outerHTML==="<div>asdf</div>";e.set({value:"c1"});let f=t(["dynamicText",y=>y.value,y=>y.value==="c1"])().outerHTML==="<div>c1</div>";return{pass:n&&o&&a&&r&&m&&c&&f}},X=()=>{let e=M({fontSize:"13px"}),{div:t}=L({staticStyle:h(),dynamicStyle:h({state:e})}),n=t(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',i=t(["dynamicStyle","fontSize",c=>c.fontSize])(),o=i.outerHTML==='<div style="font-size: 13px;"></div>';e.set({fontSize:"14px"});let d=i.outerHTML==='<div style="font-size: 14px;"></div>';e.set({fontSize:"15px"});let l=t(["dynamicStyle","fontSize",c=>c.fontSize,()=>!1])().outerHTML==="<div></div>",u=t(["dynamicStyle","fontSize",c=>c.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',p=t(["dynamicStyle","fontSize",c=>c.fontSize,c=>c.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:n&&o&&d&&l&&u&&p}},Y=()=>{let{div:e}=L({style:h()});return{pass:e(["style","--test-var","testing"])().outerHTML==='<div style="--test-var: testing;"></div>'}},Z=()=>{let{div:e}=L({attr:x(),text:A()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},j=()=>{let{div:e}=L();return{pass:e()("test").outerHTML==="<div>test</div>"}};var tt=()=>{let{div:e}=L({attr:x()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function et(e,t=[],s={}){t.forEach(([i,...o])=>s[i](e,...o));function n(...i){return i.forEach(o=>e.append(o)),e}return n}function S(e){return new Proxy({},{get:(t,s)=>s==="el"?n=>(...i)=>et(n,i,e):(...n)=>{let i="http://www.w3.org/2000/svg",o=document.createElementNS(i,s);return et(o,n,e)}})}var nt=()=>{let{el:e}=S({style:h()}),t=document.createElement("circle");return{pass:e(t)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},st=()=>{let{circle:e}=S({attr:x()});return{pass:e(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},ot=()=>{let{circle:e}=S({className:E({method:"className"})});return{pass:e(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},at=()=>{let{circle:e}=S({click:k("click")}),t=!1;var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return e(["click",()=>t=!0])().dispatchEvent(s),{pass:t}},it=()=>{let{circle:e}=S({text:A()});return{pass:e(["text","test"])().outerHTML==="<circle>test</circle>"}},rt=()=>{let{circle:e}=S({style:h()});return{pass:e(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},ct=()=>{let{circle:e}=S({attr:x(),text:A()});return{pass:e(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},lt=()=>{let{circle:e}=S();return{pass:e()("test").outerHTML==="<circle>test</circle>"}};var dt=()=>{let{circle:e}=S({attr:x()});return{pass:e(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};window.addEventListener("DOMContentLoaded",()=>{V([["HTML",["can apply inner html trait",_],["can apply attribute trait",q],["can remove attribute trait",F],["can apply class name trait",$],["can apply class list trait",J],["can apply event listener trait",K],["can apply inner html trait",_],["can apply inner text trait",Q],["can apply style trait",X],["can apply css var with style trait",Y],["can apply multiple traits",Z],["can create basic tag with text",j],["has valid namespace",tt],["can adopt existing element",D]],["SVG",["can apply attribute trait",st],["can apply class name trait",ot],["can apply event listener trait",at],["can apply inner text trait",it],["can apply style trait",rt],["can apply multiple traits",ct],["can create basic tag with text",lt],["has valid namespace",dt],["can adopt existing element",nt]],["State",["can create state",W],["can update state",U],["can subscribe to state",P],["can unsubscribe to state",z],["can reset state",P],["can set state and publish",G],["can set deep property",R]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>