<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var m=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js","FILTER="];function H(t){let e=t,n=t,s=[],r=()=>n,o=c=>()=>a(c(n)),i=()=>a(e),a=c=>(n=c,s.forEach(d=>d(n)));return{get:r,reset:i,reduce:o,set:a,sub:c=>s.push(c),unsub:c=>s.splice(s.indexOf(c),1)}}var z=new Map,lt=new MutationObserver(t=>{t.forEach(e=>{if(e.addedNodes.length>0&&e.type==="childList"){for(let n of e.addedNodes)if(n instanceof Element)for(let[s,[r,o]]of z.entries()){let i=n.querySelectorAll(s);for(let a of i)C(a,r,o)}}})});lt.observe(document,{attributes:!0,childList:!0,subtree:!0});function ct(t,e=!0,n){return(...s)=>{e&&z.set(t,[s,n]);let r=document.querySelectorAll(t);for(let o of r)C(o,s,n)}}function pt(t,e){return(...n)=>C(t,n,e)}function dt(t,e){return(...n)=>{let s="http://www.w3.org/1999/xhtml",r=document.createElementNS(s,t);return C(r,n,e)}}function C(t,e=[],n={}){e.forEach(([r,...o])=>n[r](t,...o));function s(...r){return r.forEach(o=>t.append(o)),t}return s}function T(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>pt(s,t):n==="$el"?(s,r)=>ct(s,r,t):dt(n,t)})}function b(t){let{event:e=null,eventElement:n=window,hideOnFalse:s=!0,invokeImmediately:r=!0,mediaMinWidth:o=0,mediaMaxWidth:i=1/0,state:a=void 0}=t??{};return(p,l,c,d)=>{let y=()=>{if(!(window.innerWidth>=o&&window.innerWidth<=i))return;let S=String(typeof c=="function"?c(a?a.get():void 0):c),g=S==="true"||S==="false",L=a&&typeof d=="function"?d(a.get()):d??!0;if(g&&s&&S==="false"||g&&L===!1)return p.removeAttribute(l);L!==!1&&p.setAttribute(l,S)};a&&a.sub(y),e&&(p??n).addEventListener(e,y),window.addEventListener("resize",y),r&&y()}}var h=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaMinWidth:s=0,mediaMaxWidth:r=1/0,state:o=null}={})=>(i,a,p)=>{let l=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=r))return;let d=String(typeof a=="function"?a():a);(typeof p=="function"?p():p??!0)&&i.setAttribute("class",d)};o&&o.sub(l),t&&(i??e).addEventListener(t,l),window.addEventListener("resize",l),n&&l()};var A=t=>(e,n,s)=>{(typeof s=="function"?s():s??!0)&&e.addEventListener(t,n)};function k(t){let{state:e}=t??{};return(...n)=>{let[s,r,o]=n,i=()=>{s.innerHTML="";let a=e?r(e.get()):r();(e&&typeof o=="function"?o(e.get()):o??!0)&&(s.innerHTML="",Array.isArray(a)?a.forEach(l=>{l instanceof HTMLElement?s.appendChild(l):s.appendChild(document.createTextNode(String(l)))}):a instanceof HTMLElement?s.appendChild(a):s.innerHTML=String(a))};e&&e.sub(i),i()}}function M(t){let{event:e=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:r=0,mediaMaxWidth:o=1/0,state:i=void 0}=t??{};return(a,p,l,c)=>{let d=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=o))return;let u=String(typeof l=="function"?l(i?i.get():void 0):l);(i&&typeof c=="function"?c(i.get()):c??!0)&&(a.style[p]=u)};i&&i.sub(d),window.addEventListener("resize",d),e&&(a??n).addEventListener(e,d),s&&!e&&d()}}var E=({state:t}={})=>(e,n,s)=>{let r=()=>{let o=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.textContent=o)};t&&t.sub(r),r()};var W=()=>{let{el:t,$el:e}=T({style:M()}),n=document.createElement("div"),r=t(n)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',o=document.createElement("div");o.id="test",document.body.appendChild(o),e("#test")(["style","color","red"]);let i=o.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:r&&i}},_=()=>{let{div:t}=T({attr:b()});return{pass:t(["attr","id","test"])().outerHTML==='<div id="test"></div>'}},N=()=>{let t=H({disabled:!1}),{div:e}=T({staticAttr:b(),dynamicAttr:b({state:t})}),s=e(["staticAttr","disabled",!0])().outerHTML==='<div disabled="true"></div>',o=e(["staticAttr","disabled",!1])().outerHTML==="<div></div>",a=e(["staticAttr","disabled","true"])().outerHTML==='<div disabled="true"></div>',l=e(["staticAttr","disabled","false"])().outerHTML==="<div></div>";t.set({disabled:!0});let d=e(["dynamicAttr","disabled",x=>x.disabled])().outerHTML==='<div disabled="true"></div>';t.set({disabled:!1});let u=e(["dynamicAttr","disabled",x=>x.disabled])().outerHTML==="<div></div>";t.set({disabled:!0});let g=e(["dynamicAttr","disabled","true",x=>x.disabled])().outerHTML==='<div disabled="true"></div>';t.set({disabled:!1});let w=e(["dynamicAttr","disabled","true",x=>x.disabled])().outerHTML==="<div></div>";return{pass:s&&o&&a&&l&&d&&u&&g&&w}},U=()=>{let{div:t}=T({className:h()});return{pass:t(["className","n1 n2"])().outerHTML==='<div class="n1 n2"></div>'}},R=()=>{let{div:t}=T({click:A("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},I=()=>{let t=H({value:"asdf"}),{div:e}=T({staticHtml:k(),dynamicHtml:k({state:t})}),s=e(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",o=e(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",a=e(["staticHtml",()=>e()("one")])().outerHTML==="<div><div>one</div></div>",l=e(["staticHtml",()=>[e()("one"),e()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",d=e(["dynamicHtml",f=>f.value])().outerHTML==="<div>asdf</div>";t.set({value:"c1"});let u=e(["dynamicHtml",f=>f.value,!1])().outerHTML==="<div></div>",g=e(["dynamicHtml",f=>f.value,()=>!1])().outerHTML==="<div></div>",w=e(["dynamicHtml",f=>f.value,()=>!0])().outerHTML==="<div>c1</div>";t.set({value:"c2"});let at=e(["dynamicHtml",f=>f.value,f=>f.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:s&&o&&a&&l&&d&&u&&g&&w&&at}},B=()=>{let{div:t}=T({text:E()});return{pass:t(["text","test"])().outerHTML==="<div>test</div>"}},G=()=>{let t=H({fontSize:"13px"}),{div:e}=T({staticStyle:M(),dynamicStyle:M({state:t})}),s=e(["staticStyle","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>',r=e(["dynamicStyle","fontSize",u=>u.fontSize])(),o=r.outerHTML==='<div style="font-size: 13px;"></div>';t.set({fontSize:"14px"});let i=r.outerHTML==='<div style="font-size: 14px;"></div>';t.set({fontSize:"15px"});let p=e(["dynamicStyle","fontSize",u=>u.fontSize,()=>!1])().outerHTML==="<div></div>",c=e(["dynamicStyle","fontSize",u=>u.fontSize,()=>!0])().outerHTML==='<div style="font-size: 15px;"></div>',y=e(["dynamicStyle","fontSize",u=>u.fontSize,u=>u.fontSize==="14px"])().outerHTML==="<div></div>";return{pass:s&&o&&i&&p&&c&&y}},V=()=>{let{div:t}=T({attr:b(),text:E()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},D=()=>{let{div:t}=T();return{pass:t()("test").outerHTML==="<div>test</div>"}};var O=()=>{let{div:t}=T({attr:b()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function q(t,e=[],n={}){e.forEach(([r,...o])=>n[r](t,...o));function s(...r){return r.forEach(o=>t.append(o)),t}return s}function v(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>(...r)=>q(s,r,t):(...s)=>{let r="http://www.w3.org/2000/svg",o=document.createElementNS(r,n);return q(o,s,t)}})}var F=()=>{let{el:t}=v({style:M()}),e=document.createElement("circle");return{pass:t(e)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},$=()=>{let{circle:t}=v({attr:b()});return{pass:t(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},j=()=>{let{circle:t}=v({className:h()});return{pass:t(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},J=()=>{let{circle:t}=v({click:A("click")}),e=!1;var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return t(["click",()=>e=!0])().dispatchEvent(n),{pass:e}},K=()=>{let{circle:t}=v({text:E()});return{pass:t(["text","test"])().outerHTML==="<circle>test</circle>"}},Q=()=>{let{circle:t}=v({printStyle:M({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},X=()=>{let{circle:t}=v({style:M()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},Y=()=>{let{circle:t}=v({attr:b(),text:E()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},Z=()=>{let{circle:t}=v();return{pass:t()("test").outerHTML==="<circle>test</circle>"}};var tt=()=>{let{circle:t}=v({attr:b()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};var et=()=>({pass:H(1).get()===1}),nt=()=>{let t=H(1);return t.set(2),{pass:t.get()===2}},P=()=>{let t=H(1),e=!1;return t.sub(()=>e=!0),t.set(2),{pass:e}},st=()=>{let t=H(1),e=!1,n=()=>e=!e;return t.sub(n),t.set(2),t.unsub(n),t.set(3),{pass:e}};var rt=m.slice(2).map(t=>t.split("=")).reduce((t,[e,n])=>({...t,[e]:n}),{});var yt=rt.FILTER;function ot(t){let e=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",t.forEach(([s,...r])=>{r.filter(o=>(s+o[0].split(" ").join("")).search(yt)>-1).forEach(([o,i])=>{let a;try{a=i(e)}catch(y){a={pass:!1,message:y.message}}let p=document.createElement("div");p.style.fontFamily="monospace",p.style.fontSize="14px",p.style.color=a.pass?"green":"red",p.innerText=a.pass?"\u2714":"\u2718",p.className=a.pass?"pass":"fail";let l=document.createElement("div");l.innerText=s,l.style.color=a.pass?"green":"red";let c=document.createElement("div");c.innerText=o,c.style.color=a.pass?"green":"red";let d=document.createElement("div");d.innerText=a.message||"",d.style.color=a.pass?"green":"red",n.append(p,l,c,d)})})}window.addEventListener("DOMContentLoaded",()=>{ot([["HTML",["can apply inner html trait",I],["can apply attribute trait",_],["can remove attribute trait",N],["can apply class name trait",U],["can apply event listener trait",R],["can apply inner html trait",I],["can apply inner text trait",B],["can apply style trait",G],["can apply multiple traits",V],["can create basic tag with text",D],["has valid namespace",O],["can adopt existing element",W]],["SVG",["can apply attribute trait",$],["can apply class name trait",j],["can apply event listener trait",J],["can apply inner text trait",K],["can apply print style trait",Q],["can apply style trait",X],["can apply multiple traits",Y],["can create basic tag with text",Z],["has valid namespace",tt],["can adopt existing element",F]],["State",["can create state",et],["can update state",nt],["can subscribe to state",P],["can unsubscribe to state",st],["can reset state",P]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>