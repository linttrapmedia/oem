<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var m=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js"];function b(t){let e=t,n=t,s=[],r=()=>n,o=c=>()=>a(c(n)),i=()=>a(e),a=c=>(n=c,s.forEach(u=>u(n)));return{get:r,reset:i,reduce:o,set:a,sub:c=>s.push(c),unsub:c=>s.splice(s.indexOf(c),1)}}var k=new Map,at=new MutationObserver(t=>{t.forEach(e=>{if(e.addedNodes.length>0&&e.type==="childList"){for(let n of e.addedNodes)if(n instanceof Element)for(let[s,[r,o]]of k.entries()){let i=n.querySelectorAll(s);for(let a of i)S(a,r,o)}}})});at.observe(document,{attributes:!0,childList:!0,subtree:!0});function it(t,e=!0,n){return(...s)=>{e&&k.set(t,[s,n]);let r=document.querySelectorAll(t);for(let o of r)S(o,s,n)}}function lt(t,e){return(...n)=>S(t,n,e)}function ct(t,e){return(...n)=>{let s="http://www.w3.org/1999/xhtml",r=document.createElementNS(s,t);return S(r,n,e)}}function S(t,e=[],n={}){e.forEach(([r,...o])=>n[r](t,...o));function s(...r){return r.forEach(o=>t.append(o)),t}return s}function d(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>lt(s,t):n==="$el"?(s,r)=>it(s,r,t):ct(n,t)})}var f=({event:t=null,eventElement:e=window,hideOnFalse:n=!0,invokeImmediately:s=!0,mediaMinWidth:r=0,mediaMaxWidth:o=1/0,state:i=null}={})=>(a,p,l,c)=>{let u=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=o))return;let v=String(typeof l=="function"?l():l),M=v==="true"||v==="false",g=typeof c=="function"?c():c??!0;if(M&&n&&v==="false"||M&&g===!1)return a.removeAttribute(p);g!==!1&&a.setAttribute(p,v)};i&&i.sub(u),t&&(a??e).addEventListener(t,u),window.addEventListener("resize",u),s&&u()};var C=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaMinWidth:s=0,mediaMaxWidth:r=1/0,state:o=null}={})=>(i,a,p)=>{let l=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=r))return;let u=String(typeof a=="function"?a():a);(typeof p=="function"?p():p??!0)&&i.setAttribute("class",u)};o&&o.sub(l),t&&(i??e).addEventListener(t,l),window.addEventListener("resize",l),n&&l()};var L=t=>(e,n,s)=>{(typeof s=="function"?s():s??!0)&&e.addEventListener(t,n)};function h(t){let{state:e}=t??{};return(...n)=>{let[s,r,o]=n,i=()=>{s.innerHTML="";let a=e?r(e.get()):r();(e&&typeof o=="function"?o(e.get()):o??!0)&&(s.innerHTML="",Array.isArray(a)?a.forEach(l=>{l instanceof HTMLElement?s.appendChild(l):s.appendChild(document.createTextNode(String(l)))}):a instanceof HTMLElement?s.appendChild(a):s.innerHTML=String(a))};e&&e.sub(i),i()}}function H(t){let{event:e=null,eventElement:n=window,invokeImmediately:s=!0,mediaMinWidth:r=0,mediaMaxWidth:o=1/0,state:i=void 0}=t??{};return(a,p,l,c)=>{let u=()=>{if(!(window.innerWidth>=r&&window.innerWidth<=o))return;let v=String(typeof l=="function"?l(i?i.get():void 0):l);(i&&typeof c=="function"?c(i.get()):c??!0)&&(a.style[p]=v)};i&&i.sub(u),window.addEventListener("resize",u),e&&(a??n).addEventListener(e,u),s&&!e&&u()}}var x=({state:t}={})=>(e,n,s)=>{let r=()=>{let o=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.textContent=o)};t&&t.sub(r),r()};var I=()=>{let{el:t,$el:e}=d({style:H()}),n=document.createElement("div"),r=t(n)(["style","color","red"])("test").outerHTML==='<div style="color: red;">test</div>',o=document.createElement("div");o.id="test",document.body.appendChild(o),e("#test")(["style","color","red"]);let i=o.outerHTML==='<div id="test" style="color: red;"></div>';return{pass:r&&i}},P=()=>{let{div:t}=d({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<div id="test"></div>'}},_=()=>{let{div:t}=d({attr:f()}),n=t(["attr","disabled","false"])().outerHTML==="<div></div>",r=t(["attr","disabled","false",()=>!1])().outerHTML==="<div></div>",i=t(["attr","disabled","true",()=>!1])().outerHTML==="<div></div>";return{pass:n&&r&&i}},N=()=>{let{div:t}=d({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<div class="n1 n2"></div>'}},W=()=>{let{div:t}=d({click:L("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},w=()=>{let t=b({value:"asdf"}),{div:e}=d({staticHtml:h(),dynamicHtml:h({state:t})}),s=e(["staticHtml",()=>"asdf"])().outerHTML==="<div>asdf</div>",o=e(["staticHtml",()=>["one","two"]])().outerHTML==="<div>onetwo</div>",a=e(["staticHtml",()=>e()("one")])().outerHTML==="<div><div>one</div></div>",l=e(["staticHtml",()=>[e()("one"),e()("two")]])().outerHTML==="<div><div>one</div><div>two</div></div>",u=e(["dynamicHtml",T=>T.value])().outerHTML==="<div>asdf</div>";t.set({value:"c1"});let v=e(["dynamicHtml",T=>T.value,!1])().outerHTML==="<div></div>",g=e(["dynamicHtml",T=>T.value,()=>!1])().outerHTML==="<div></div>",st=e(["dynamicHtml",T=>T.value,()=>!0])().outerHTML==="<div>c1</div>";t.set({value:"c2"});let rt=e(["dynamicHtml",T=>T.value,T=>T.value==="c2"])().outerHTML==="<div>c2</div>";return{pass:s&&o&&a&&l&&u&&v&&g&&st&&rt}},U=()=>{let{div:t}=d({text:x()});return{pass:t(["text","test"])().outerHTML==="<div>test</div>"}},B=()=>{let{div:t}=d({printStyle:H({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},G=()=>{let{div:t}=d({style:H()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>'}},R=()=>{let{div:t}=d({attr:f(),text:x()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},z=()=>{let{div:t}=d();return{pass:t()("test").outerHTML==="<div>test</div>"}};var V=()=>{let{div:t}=d({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function D(t,e=[],n={}){e.forEach(([r,...o])=>n[r](t,...o));function s(...r){return r.forEach(o=>t.append(o)),t}return s}function y(t){return new Proxy({},{get:(e,n)=>n==="el"?s=>(...r)=>D(s,r,t):(...s)=>{let r="http://www.w3.org/2000/svg",o=document.createElementNS(r,n);return D(o,s,t)}})}var O=()=>{let{el:t}=y({style:H()}),e=document.createElement("circle");return{pass:t(e)(["style","color","red"])().outerHTML==='<circle style="color: red;"></circle>'}},q=()=>{let{circle:t}=y({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},j=()=>{let{circle:t}=y({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},F=()=>{let{circle:t}=y({click:L("click")}),e=!1;var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});return t(["click",()=>e=!0])().dispatchEvent(n),{pass:e}},$=()=>{let{circle:t}=y({text:x()});return{pass:t(["text","test"])().outerHTML==="<circle>test</circle>"}},J=()=>{let{circle:t}=y({printStyle:H({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},K=()=>{let{circle:t}=y({style:H()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},Q=()=>{let{circle:t}=y({attr:f(),text:x()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},X=()=>{let{circle:t}=y();return{pass:t()("test").outerHTML==="<circle>test</circle>"}};var Y=()=>{let{circle:t}=y({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/2000/svg"}};var Z=()=>({pass:b(1).get()===1}),tt=()=>{let t=b(1);return t.set(2),{pass:t.get()===2}},A=()=>{let t=b(1),e=!1;return t.sub(()=>e=!0),t.set(2),{pass:e}},et=()=>{let t=b(1),e=!1,n=()=>e=!e;return t.sub(n),t.set(2),t.unsub(n),t.set(3),{pass:e}};var dt=m.slice(2).join("");function nt(t){let e=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",t.forEach(([s,...r])=>{r.filter(o=>(s+o[0].split(" ").join("")).search(dt)>-1).forEach(([o,i])=>{let a;try{a=i(e)}catch(E){a={pass:!1,message:E.message}}let p=document.createElement("div");p.style.fontFamily="monospace",p.style.fontSize="14px",p.style.color=a.pass?"green":"red",p.innerText=a.pass?"\u2714":"\u2718",p.className=a.pass?"pass":"fail";let l=document.createElement("div");l.innerText=s,l.style.color=a.pass?"green":"red";let c=document.createElement("div");c.innerText=o,c.style.color=a.pass?"green":"red";let u=document.createElement("div");u.innerText=a.message||"",u.style.color=a.pass?"green":"red",n.append(p,l,c,u)})})}window.addEventListener("DOMContentLoaded",()=>{nt([["HTML",["can apply inner html trait",w],["can apply attribute trait",P],["can remove attribute trait",_],["can apply class name trait",N],["can apply event listener trait",W],["can apply inner html trait",w],["can apply inner text trait",U],["can apply print style trait",B],["can apply style trait",G],["can apply multiple traits",R],["can create basic tag with text",z],["has valid namespace",V],["can adopt existing element",I]],["SVG",["can apply attribute trait",q],["can apply class name trait",j],["can apply event listener trait",F],["can apply inner text trait",$],["can apply print style trait",J],["can apply style trait",K],["can apply multiple traits",Q],["can create basic tag with text",X],["has valid namespace",Y],["can adopt existing element",O]],["State",["can create state",Z],["can update state",tt],["can subscribe to state",A],["can unsubscribe to state",et],["can reset state",A]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>