<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var u=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/LintTrap/oem/cmd/test.js"];function Y(t,e=[],n={}){let s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,t);e.forEach(([o,...r])=>n[o](a,...r));function c(...o){return o.forEach(r=>a.append(r)),a}return c}function T(t){return new Proxy({},{get:(e,n)=>(...s)=>Y(n,s,t)})}var f=({event:t=null,eventElement:e=window,hideOnFalse:n=!0,invokeImmediately:s=!0,mediaMinWidth:a=0,mediaMaxWidth:c=1/0,state:o=null}={})=>(r,m,i,p)=>{let l=()=>{if(!(window.innerWidth>=a&&window.innerWidth<=c))return;let d=String(typeof i=="function"?i():i);!(typeof p=="function"?p():p??!0)||(n&&d==="false"?r.removeAttribute(m):r.setAttribute(m,d))};o&&o.sub(l),t&&(r??e).addEventListener(t,l),window.addEventListener("resize",l),s&&l()};var C=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaMinWidth:s=0,mediaMaxWidth:a=1/0,state:c=null}={})=>(o,r,m)=>{let i=()=>{if(!(window.innerWidth>=s&&window.innerWidth<=a))return;let l=String(typeof r=="function"?r():r);(typeof m=="function"?m():m??!0)&&(o.className=l)};c&&c.sub(i),t&&(o??e).addEventListener(t,i),window.addEventListener("resize",i),n&&i()};var E=t=>(e,n,s)=>{(typeof s=="function"?s():s??!0)&&e.addEventListener(t,n)};var b=({event:t=null,eventElement:e=window,invokeImmediately:n=!0,mediaType:s="screen",mediaMinWidth:a=0,mediaMaxWidth:c=1/0,state:o=null}={})=>{let r=(Math.random()*1e8).toFixed(0),m="print-style-"+r,i=document.getElementById(m);i||(i=document.createElement("style"),i.id=m,i.setAttribute("type","text/css"),i.setAttribute("media","print"),s==="print"&&document.getElementsByTagName("head")[0].appendChild(i));let p=i.sheet;return(l,x,d,v)=>{s==="print"&&(l.dataset.printId=l.dataset.printId??(Math.random()*1e8).toFixed(0));let S=()=>{if(s==="print"){let h=x+"-"+l.dataset.printId,M=String(typeof d=="function"?d():d),Q=x.replace(/([A-Z])/g,"-$1").toLowerCase();p.insertRule(`.${h} { ${Q}:${M} !important; }`,0),l.classList.add(h)}else{if(!(window.innerWidth>=a&&window.innerWidth<=c))return;let M=String(typeof d=="function"?d():d);(typeof v=="function"?v():v??!0)&&(l.style[x]=M)}};o&&o.sub(S),t&&(l??e).addEventListener(t,S),window.addEventListener("resize",S),n&&S()}};var H=({state:t}={})=>(e,n,s)=>{let a=()=>{let c=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.textContent=c)};t&&t.sub(a),a()};var L=()=>{let{div:t}=T({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<div id="test"></div>'}},A=()=>{let{div:t}=T({attr:f()});return{pass:t(["attr","disabled","false"])().outerHTML==="<div></div>"}},k=()=>{let{div:t}=T({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<div class="n1 n2"></div>'}},N=()=>{let{div:t}=T({click:E("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},I=()=>{let{div:t}=T({text:H()});return{pass:t(["text","test"])().outerHTML==="<div>test</div>"}},P=()=>{let{div:t}=T({printStyle:b({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},W=()=>{let{div:t}=T({style:b()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>'}},_=()=>{let{div:t}=T({attr:f(),text:H()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},U=()=>{let{div:t}=T();return{pass:t()("test").outerHTML==="<div>test</div>"}};var R=()=>{let{div:t}=T({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function et(t,e=[],n={}){let s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,t);e.forEach(([o,...r])=>n[o](a,...r));function c(...o){return o.forEach(r=>a.append(r)),a}return c}function y(t){return new Proxy({},{get:(e,n)=>(...s)=>et(n,s,t)})}var B=()=>{let{circle:t}=y({attr:f()});return{pass:t(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},G=()=>{let{circle:t}=y({className:C()});return{pass:t(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},z=()=>{let{circle:t}=y({click:E("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},V=()=>{let{circle:t}=y({text:H()});return{pass:t(["text","test"])().outerHTML==="<circle>test</circle>"}},F=()=>{let{circle:t}=y({printStyle:b({mediaType:"print"})});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},D=()=>{let{circle:t}=y({style:b()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},$=()=>{let{circle:t}=y({attr:f(),text:H()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},O=()=>{let{circle:t}=y();return{pass:t()("test").outerHTML==="<circle>test</circle>"}};var j=()=>{let{circle:t}=y({attr:f()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function g(t){let e=t,n=t,s=[],a=()=>n,c=p=>()=>r(p(n)),o=()=>r(e),r=p=>(n=p,s.forEach(l=>l(n)));return{get:a,reset:o,reduce:c,set:r,sub:p=>s.push(p),unsub:p=>s.splice(s.indexOf(p),1)}}var q=()=>({pass:g(1).get()===1}),Z=()=>{let t=g(1);return t.set(2),{pass:t.get()===2}},w=()=>{let t=g(1),e=!1;return t.sub(()=>e=!0),t.set(2),{pass:e}},J=()=>{let t=g(1),e=!1,n=()=>e=!e;return t.sub(n),t.set(2),t.unsub(n),t.set(3),{pass:e}};var rt=u.slice(2).join("");function K(t){let e=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",t.forEach(([s,...a])=>{a.filter(c=>(s+c[0].split(" ").join("")).search(rt)>-1).forEach(([c,o])=>{let r;try{r=o(e)}catch(x){r={pass:!1,message:x.message}}let m=document.createElement("div");m.style.fontFamily="monospace",m.style.fontSize="14px",m.style.color=r.pass?"green":"red",m.innerText=r.pass?"\u2714":"\u2718",m.className=r.pass?"pass":"fail";let i=document.createElement("div");i.innerText=s,i.style.color=r.pass?"green":"red";let p=document.createElement("div");p.innerText=c,p.style.color=r.pass?"green":"red";let l=document.createElement("div");l.innerText=r.message||"",l.style.color=r.pass?"green":"red",n.append(m,i,p,l)})})}window.addEventListener("DOMContentLoaded",()=>{K([["HTML",["can apply attribute trait",L],["can remove attribute trait",A],["can apply class name trait",k],["can apply event listener trait",N],["can apply inner text trait",I],["can apply print style trait",P],["can apply style trait",W],["can apply multiple traits",_],["can create basic tag with text",U],["has valid namespace",R]],["SVG",["can apply attribute trait",B],["can apply class name trait",G],["can apply event listener trait",z],["can apply inner text trait",V],["can apply print style trait",F],["can apply style trait",D],["can apply multiple traits",$],["can create basic tag with text",O],["has valid namespace",j]],["State",["can create state",q],["can update state",Z],["can subscribe to state",w],["can unsubscribe to state",J],["can reset state",w]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>