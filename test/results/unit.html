<html>
    <head>
      <title>OEM Element Unit Tests</title>
      <script>"use strict";var OEM=(()=>{var l=["/Users/kevinlint/.nvm/versions/node/v18.14.0/bin/node","/Users/kevinlint/Concreit/research/oem/cmd/test.js"];function O(t,e=[],n={}){let s="http://www.w3.org/1999/xhtml",r=document.createElementNS(s,t);e.forEach(([c,...a])=>n[c](r,...a));function o(...c){return c.forEach(a=>r.append(a)),r}return o}function p(t){return new Proxy({},{get:(e,n)=>(...s)=>O(n,s,t)})}var T=t=>(e,n,s,r)=>{let o=()=>{let c=String(typeof s=="function"?s():s);(typeof r=="function"?r():r??!0)&&e.setAttribute(n,c)};t&&t.sub(o),o()};var g=t=>(e,n,s)=>{let r=()=>{let o=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.className=o)};t&&t.sub(r),r()};var S=t=>(e,n,s)=>{(typeof s=="function"?s():s??!0)&&e.addEventListener(t,n)};var f=t=>(e,n,s)=>{let r=()=>{let o=String(typeof n=="function"?n():n);(typeof s=="function"?s():s??!0)&&(e.textContent=o)};t&&t.sub(r),r()};var H=()=>{let t="print-style",e=document.getElementById(t);e||(e=document.createElement("style"),e.id=t,e.setAttribute("type","text/css"),e.setAttribute("media","print"),document.getElementsByTagName("head")[0].appendChild(e));let n=e.sheet;return(s,r,o,c)=>{s.dataset.printId=s.dataset.printId??(Math.random()*1e8).toFixed(0);let a=t+"-"+s.dataset.printId,u=String(typeof o=="function"?o():o),y=()=>{let i=r.replace(/([A-Z])/g,"-$1").toLowerCase();n.insertRule(`.${a} { ${i}:${u} !important; }`,0),s.classList.add(a)};return(typeof c=="function"?c():c??!0)&&y(),s}};var C=t=>(e,n,s,r)=>{let o=()=>{let c=String(typeof s=="function"?s():s);(typeof r=="function"?r():r??!0)&&(e.style[n]=c)};t&&t.sub(o),o()};var v=()=>{let{div:t}=p({attr:T()});return{pass:t(["attr","id","test"])().outerHTML==='<div id="test"></div>'}},h=()=>{let{div:t}=p({className:g()});return{pass:t(["className","n1 n2"])().outerHTML==='<div class="n1 n2"></div>'}},E=()=>{let{div:t}=p({click:S("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},L=()=>{let{div:t}=p({text:f()});return{pass:t(["text","test"])().outerHTML==="<div>test</div>"}},M=()=>{let{div:t}=p({printStyle:H()});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},A=()=>{let{div:t}=p({style:C()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<div style="font-size: 12px;"></div>'}},w=()=>{let{div:t}=p({attr:T(),text:f()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<div id="test">test</div>'}},N=()=>{let{div:t}=p();return{pass:t()("test").outerHTML==="<div>test</div>"}};var k=()=>{let{div:t}=p({attr:T()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function J(t,e=[],n={}){let s="http://www.w3.org/1999/xhtml",r=document.createElementNS(s,t);e.forEach(([c,...a])=>n[c](r,...a));function o(...c){return c.forEach(a=>r.append(a)),r}return o}function m(t){return new Proxy({},{get:(e,n)=>(...s)=>J(n,s,t)})}var _=()=>{let{circle:t}=m({attr:T()});return{pass:t(["attr","id","test"])().outerHTML==='<circle id="test"></circle>'}},P=()=>{let{circle:t}=m({className:g()});return{pass:t(["className","n1 n2"])().outerHTML==='<circle class="n1 n2"></circle>'}},I=()=>{let{circle:t}=m({click:S("click")}),e=!1;return t(["click",()=>e=!0])().click(),{pass:e}},R=()=>{let{circle:t}=m({text:f()});return{pass:t(["text","test"])().outerHTML==="<circle>test</circle>"}},V=()=>{let{circle:t}=m({printStyle:H()});return{pass:t(["printStyle","fontSize","12px"])().ownerDocument.head.innerHTML.includes("print-style")}},G=()=>{let{circle:t}=m({style:C()});return{pass:t(["style","fontSize","12px"])().outerHTML==='<circle style="font-size: 12px;"></circle>'}},z=()=>{let{circle:t}=m({attr:T(),text:f()});return{pass:t(["attr","id","test"],["text","test"])().outerHTML==='<circle id="test">test</circle>'}},B=()=>{let{circle:t}=m();return{pass:t()("test").outerHTML==="<circle>test</circle>"}};var U=()=>{let{circle:t}=m({attr:T()});return{pass:t(["attr","id","1"])().namespaceURI==="http://www.w3.org/1999/xhtml"}};function x(t){let e=t,n=t,s=[],r=()=>n,o=i=>()=>a(i(n)),c=()=>a(e),a=i=>(n=i,s.forEach(d=>d(n)));return{get:r,reset:c,reduce:o,set:a,sub:i=>s.push(i),unsub:i=>s.splice(s.indexOf(i),1)}}var D=()=>({pass:x(1).get()===1}),W=()=>{let t=x(1);return t.set(2),{pass:t.get()===2}},b=()=>{let t=x(1),e=!1;return t.sub(()=>e=!0),t.set(2),{pass:e}},$=()=>{let t=x(1),e=!1,n=()=>e=!e;return t.sub(n),t.set(2),t.unsub(n),t.set(3),{pass:e}};var X=l.slice(2).join("");function F(t){let e=document.querySelector("#test-sandbox"),n=document.querySelector("#test-results");n.style.display="grid",n.style.columnGap="10px",n.style.rowGap="2px",n.style.gridTemplateColumns="auto auto auto 1fr",t.forEach(([s,...r])=>{r.filter(o=>(s+o[0].split(" ").join("")).search(X)>-1).forEach(([o,c])=>{let a;try{a=c(e)}catch(j){a={pass:!1,message:j.message}}let u=document.createElement("div");u.style.fontFamily="monospace",u.style.fontSize="14px",u.style.color=a.pass?"green":"red",u.innerText=a.pass?"\u2714":"\u2718",u.className=a.pass?"pass":"fail";let y=document.createElement("div");y.innerText=s,y.style.color=a.pass?"green":"red";let i=document.createElement("div");i.innerText=o,i.style.color=a.pass?"green":"red";let d=document.createElement("div");d.innerText=a.message||"",d.style.color=a.pass?"green":"red",n.append(u,y,i,d)})})}window.addEventListener("DOMContentLoaded",()=>{F([["HTML",["can apply attribute trait",v],["can apply class name trait",h],["can apply event listener trait",E],["can apply inner text trait",L],["can apply print style trait",M],["can apply style trait",A],["can apply multiple traits",w],["can create basic tag with text",N],["has valid namespace",k]],["SVG",["can apply attribute trait",_],["can apply class name trait",P],["can apply event listener trait",I],["can apply inner text trait",R],["can apply print style trait",V],["can apply style trait",G],["can apply multiple traits",z],["can create basic tag with text",B],["has valid namespace",U]],["State",["can create state",D],["can update state",W],["can subscribe to state",b],["can unsubscribe to state",$],["can reset state",b]]])});})();
</script>
    </head>
    <body>
      <div id="test-results"></div>
      <div id="test-sandbox"></div>
    </body>
  </html>